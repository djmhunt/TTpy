
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>fitAlgs.basinhopping module &#8212; pyHPDM 0.9.9 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="fitAlgs.boundFunc module" href="fitAlgs.boundFunc.html" />
    <link rel="prev" title="fitAlgs package" href="fitAlgs.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fitAlgs.boundFunc.html" title="fitAlgs.boundFunc module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="fitAlgs.html" title="fitAlgs package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyHPDM 0.9.9 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="fitAlgs.html" accesskey="U">fitAlgs package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-fitAlgs.basinhopping">
<span id="fitalgs-basinhopping-module"></span><h1>fitAlgs.basinhopping module<a class="headerlink" href="#module-fitAlgs.basinhopping" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Dominic Hunt</p>
</dd>
</dl>
<dl class="class">
<dt id="fitAlgs.basinhopping.Basinhopping">
<em class="property">class </em><code class="sig-prename descclassname">fitAlgs.basinhopping.</code><code class="sig-name descname">Basinhopping</code><span class="sig-paren">(</span><em class="sig-param">method=None</em>, <em class="sig-param">number_start_points=4</em>, <em class="sig-param">allow_boundary_fits=True</em>, <em class="sig-param">boundary_fit_sensitivity=5</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fitAlgs/basinhopping.html#Basinhopping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.basinhopping.Basinhopping" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="fitAlgs.fitAlg.html#fitAlgs.fitAlg.FitAlg" title="fitAlgs.fitAlg.FitAlg"><code class="xref py py-class docutils literal notranslate"><span class="pre">fitAlgs.fitAlg.FitAlg</span></code></a></p>
<p>The class for fitting data using scipy.optimise.basinhopping</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fit_sim</strong> (<em>fitAlgs.fitSims.FitSim instance</em><em>, </em><em>optional</em>) – An instance of one of the fitting simulation methods. Default <code class="docutils literal notranslate"><span class="pre">fitAlgs.fitSims.FitSim</span></code></p></li>
<li><p><strong>fit_measure</strong> (<em>string</em><em>, </em><em>optional</em>) – The name of the function used to calculate the quality of the fit.
The value it returns provides the fitter with its fitting guide. Default <code class="docutils literal notranslate"><span class="pre">-loge</span></code></p></li>
<li><p><strong>fit_measure_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – The parameters used to initialise fit_measure and extra_fit_measures. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>extra_fit_measures</strong> (<em>list of strings</em><em>, </em><em>optional</em>) – List of fit measures not used to fit the model, but to provide more information. Any arguments needed for these
measures should be placed in fit_measure_args. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>bounds</strong> (<em>dictionary of tuples of length two with floats</em><em>, </em><em>optional</em>) – The boundaries for methods that use bounds. If unbounded methods are
specified then the bounds will be ignored. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, which
translates to boundaries of (0, np.inf) for each parameter.</p></li>
<li><p><strong>boundary_excess_cost</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><em>callable returning a function</em><em>, </em><em>optional</em>) – The function is used to calculate the penalty for exceeding the boundaries.
Default is <code class="docutils literal notranslate"><span class="pre">boundFunc.scalarBound()</span></code></p></li>
<li><p><strong>boundary_excess_cost_properties</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – The parameters for the boundary_excess_cost function. Default {}</p></li>
<li><p><strong>method</strong> (<em>string</em><em> or </em><em>list of strings</em><em>, </em><em>optional</em>) – The name of the fitting method or list of names of fitting methods or
name of list of fitting methods. Valid names found in the notes.
Default <code class="docutils literal notranslate"><span class="pre">unconstrained</span></code></p></li>
<li><p><strong>number_start_points</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – The number of starting points generated for each parameter.
Default 4</p></li>
<li><p><strong>allow_boundary_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Defines if fits that reach a boundary should be considered the same way
as those that do not. Default is True</p></li>
<li><p><strong>boundSensitivity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Defines the smallest number of decimal places difference (so the
minimal difference) between a fit value and its related boundaries
before a fit value is considered different from a boundary. The default
is <cite>5</cite>. This is only valid if <code class="docutils literal notranslate"><span class="pre">allow_boundary_fits</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="fitAlgs.basinhopping.Basinhopping.Name">
<code class="sig-name descname">Name</code><a class="headerlink" href="#fitAlgs.basinhopping.Basinhopping.Name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the fitting method</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="fitAlgs.basinhopping.Basinhopping.unconstrained">
<code class="sig-name descname">unconstrained</code><a class="headerlink" href="#fitAlgs.basinhopping.Basinhopping.unconstrained" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of valid unconstrained fitting methods</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="fitAlgs.basinhopping.Basinhopping.constrained">
<code class="sig-name descname">constrained</code><a class="headerlink" href="#fitAlgs.basinhopping.Basinhopping.constrained" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of valid constrained fitting methods</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>unconstrained = [‘Nelder-Mead’,’Powell’,’CG’,’BFGS’]
constrained = [‘L-BFGS-B’,’TNC’,’SLSQP’]
Custom fitting algorithms are also allowed in theory, but it has yet to be
implemented.</p>
<p>For each fitting function a set of different starting parameters will be
tried. These are the combinations of all the values of the different
parameters. For each starting parameter provided a set of number_start_points
starting points will be chosen, surrounding the starting point provided. If
the starting point provided is less than one it will be assumed that the
values cannot exceed 1, otherwise, unless otherwise told, it will be
assumed that they can take any value and will be chosen to be eavenly
spaced around the provided value.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">fitAlgs.fitAlg.fitAlg</span></code></dt><dd><p>The general fitting method class, from which this one inherits</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">filtAlgs.fitSims.fitSim</span></code></dt><dd><p>The general fitting class</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.optimise.basinhopping</span></code></dt><dd><p>The fitting class this wraps around</p>
</dd>
</dl>
</div>
<dl class="method">
<dt id="fitAlgs.basinhopping.Basinhopping.callback">
<code class="sig-name descname">callback</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">f</em>, <em class="sig-param">accept</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fitAlgs/basinhopping.html#Basinhopping.callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.basinhopping.Basinhopping.callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for storing the state after each stage of fitter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>coordinates of the trial minimum</em>) – </p></li>
<li><p><strong>f</strong> (<em>function value of the trial minimum</em>) – </p></li>
<li><p><strong>accept</strong> (<em>whether</em><em> or </em><em>not that minimum was accepted</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">constrained</code><em class="property"> = ['L-BFGS-B', 'TNC', 'SLSQP']</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="fitAlgs.basinhopping.Basinhopping.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">simulator</em>, <em class="sig-param">model_parameter_names</em>, <em class="sig-param">model_initial_parameters</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fitAlgs/basinhopping.html#Basinhopping.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.basinhopping.Basinhopping.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the model through the fitting algorithms and starting parameters
and returns the best one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simulator</strong> (<em>function</em>) – The function used by a fitting algorithm to generate a fit for
given model parameters. One example is fitAlgs.fitAlg.fitness</p></li>
<li><p><strong>model_parameter_names</strong> (<em>list of strings</em>) – The list of initial parameter names</p></li>
<li><p><strong>model_initial_parameters</strong> (<em>list of floats</em>) – The list of the intial parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>best_fit_parameters</strong> (<em>list of floats</em>) – The best fitting parameters</p></li>
<li><p><strong>fit_quality</strong> (<em>float</em>) – The quality of the fit as defined by the quality function chosen.</p></li>
<li><p><strong>testedParams</strong> (<em>tuple of two lists and a dictionary</em>) – The two lists are a list containing the parameter values tested, in the order they were tested, and the
fit qualities of these parameters. The dictionary contains the coordinates of the trial minimum, the
function value of the trial minimum and whether or not that minimum was accepted. Each is stored in a list.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fitAlgs.fitAlg.fitness()</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">unconstrained</code><em class="property"> = ['Nelder-Mead', 'Powell', 'CG', 'BFGS']</em></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="fitAlgs.html"
                        title="previous chapter">fitAlgs package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fitAlgs.boundFunc.html"
                        title="next chapter">fitAlgs.boundFunc module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/fitAlgs.basinhopping.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fitAlgs.boundFunc.html" title="fitAlgs.boundFunc module"
             >next</a> |</li>
        <li class="right" >
          <a href="fitAlgs.html" title="fitAlgs package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyHPDM 0.9.9 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="fitAlgs.html" >fitAlgs package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2020, Dominic Hunt.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>