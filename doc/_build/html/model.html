
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>model package &#8212; pyHPDM 0.9 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="model.decision package" href="model.decision.html" />
    <link rel="prev" title="models module" href="models.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="model.decision.html" title="model.decision package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="models.html" title="models module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyHPDM 0.9 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="model-package">
<h1>model package<a class="headerlink" href="#model-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="model.decision.html">model.decision package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="model.decision.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.decision.html#module-model.decision.binary">model.decision.binary module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.decision.html#module-model.decision.discrete">model.decision.discrete module</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.decision.html#module-model.decision">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-model.ACBasic">
<span id="model-acbasic-module"></span><h2>model.ACBasic module<a class="headerlink" href="#module-model.ACBasic" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on ideas we had.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.ACBasic.ACBasic">
<em class="property">class </em><code class="descclassname">model.ACBasic.</code><code class="descname">ACBasic</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#ACBasic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.ACBasic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>A basic, complete actor-critic model</p>
<dl class="attribute">
<dt id="model.ACBasic.ACBasic.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.ACBasic.ACBasic.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Decision threshold parameter</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'ACBasic'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.ACBasic.ACBasic.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#ACBasic.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.ACBasic.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACBasic.ACBasic.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#ACBasic.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.ACBasic.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACBasic.ACBasic.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#ACBasic.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.ACBasic.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACBasic.ACBasic.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#ACBasic.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.ACBasic.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACBasic.ACBasic.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#ACBasic.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.ACBasic.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACBasic.ACBasic.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#ACBasic.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.ACBasic.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.ACBasic.ACBasic.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#ACBasic.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.ACBasic.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.ACBasic.blankRew">
<code class="descclassname">model.ACBasic.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.ACBasic.Name">
<code class="descclassname">model.ACBasic.</code><code class="descname">Name</code><a class="headerlink" href="#model.ACBasic.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.ACBasic.blankStim">
<code class="descclassname">model.ACBasic.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACBasic.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACBasic.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.ACBasic.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.ACE">
<span id="model-ace-module"></span><h2>model.ACE module<a class="headerlink" href="#module-model.ACE" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on ideas we had.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.ACE.ACE">
<em class="property">class </em><code class="descclassname">model.ACE.</code><code class="descname">ACE</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#ACE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.ACE" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>A basic, complete actor-critic model with decision making based on qLearnE</p>
<dl class="attribute">
<dt id="model.ACE.ACE.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.ACE.ACE.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Noise parameter. The larger it is the less likely the model is to choose the highest expected reward</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'ACE'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.ACE.ACE.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#ACE.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.ACE.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACE.ACE.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#ACE.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.ACE.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACE.ACE.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#ACE.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.ACE.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACE.ACE.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#ACE.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.ACE.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACE.ACE.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#ACE.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.ACE.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACE.ACE.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#ACE.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.ACE.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.ACE.ACE.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#ACE.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.ACE.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.ACE.blankRew">
<code class="descclassname">model.ACE.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.ACE.Name">
<code class="descclassname">model.ACE.</code><code class="descname">Name</code><a class="headerlink" href="#model.ACE.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.ACE.blankStim">
<code class="descclassname">model.ACE.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACE.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACE.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.ACE.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.ACES">
<span id="model-aces-module"></span><h2>model.ACES module<a class="headerlink" href="#module-model.ACES" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on ideas we had.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.ACES.ACES">
<em class="property">class </em><code class="descclassname">model.ACES.</code><code class="descname">ACES</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#ACES"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.ACES" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>A basic, complete actor-critic model with decision making based on qLearnE</p>
<dl class="attribute">
<dt id="model.ACES.ACES.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.ACES.ACES.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Noise parameter. The larger it is the less likely the model is to choose the highest expected reward</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'ACES'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.ACES.ACES.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#ACES.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.ACES.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACES.ACES.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#ACES.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.ACES.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACES.ACES.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#ACES.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.ACES.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACES.ACES.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#ACES.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.ACES.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACES.ACES.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#ACES.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.ACES.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.ACES.ACES.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#ACES.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.ACES.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.ACES.ACES.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#ACES.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.ACES.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.ACES.blankRew">
<code class="descclassname">model.ACES.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.ACES.Name">
<code class="descclassname">model.ACES.</code><code class="descname">Name</code><a class="headerlink" href="#model.ACES.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.ACES.blankStim">
<code class="descclassname">model.ACES.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/ACES.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.ACES.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.ACES.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.BHMM">
<span id="model-bhmm-module"></span><h2>model.BHMM module<a class="headerlink" href="#module-model.BHMM" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the paper The role of the ventromedial prefrontal cortex
in abstract state-based inference during decision making in humans.
Hampton, A. N., Bossaerts, P., &amp; O’Doherty, J. P. (2006).
The Journal of Neuroscience : The Official Journal of the Society for Neuroscience,
26(32), 8360–7.
doi:10.1523/JNEUROSCI.1010-06.2006</td>
</tr>
<tr class="field-odd field"><th class="field-name">Notes:</th><td class="field-body">This proposed model is itself based on the model in the book:
An Introduction to Hidden Markov Models and Bayesian Networks
DOI:10.1142/S0218001401000836</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.BHMM.BHMM">
<em class="property">class </em><code class="descclassname">model.BHMM.</code><code class="descname">BHMM</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BHMM.html#BHMM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BHMM.BHMM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The Bayesian Hidden Markov Model model</p>
<dl class="attribute">
<dt id="model.BHMM.BHMM.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.BHMM.BHMM.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities. Default <code class="docutils literal notranslate"><span class="pre">4</span></code></li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Decision threshold parameter. Default <code class="docutils literal notranslate"><span class="pre">0</span></code></li>
<li><strong>delta</strong> (float in range <code class="docutils literal notranslate"><span class="pre">[0,1]</span></code>, optional) – The switch probability parameter. Default <code class="docutils literal notranslate"><span class="pre">0</span></code></li>
<li><strong>mu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The mean expected payoff</li>
<li><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The standard deviation of the expected payoff</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decSingle</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Inputs : The participant recieves for time <span class="math notranslate">\(t\)</span> and their choice of
action <span class="math notranslate">\(A_{t}\)</span> the payoff <span class="math notranslate">\(Y_{t}(A_{t})\)</span></p>
<p>Outputs : Their action <span class="math notranslate">\(A_{t}\)</span>. However, internal to the model and
potentially extractable is the probability that each action is the
“correct” choice.</p>
<p>Initialisation : An arbitrary choice is made of which initial action
<span class="math notranslate">\(A_{t=0}\)</span> to go with. The probability that a hidden state
<span class="math notranslate">\(X_{t}\)</span> is the one given by <span class="math notranslate">\(P(X_{t}=A_{t})\)</span>
and is initially uniform and normalised.</p>
<p>Updates : The prior probabilities of the different actions being correct
<span class="math notranslate">\(\vec{P}_\mathrm{Prior}(\vec{X}_{t})\)</span> is calculated with respect to
the probability of reversal <span class="math notranslate">\(\delta\)</span> and the posterior probability
<span class="math notranslate">\(\vec{P}_\mathrm{Post}(\vec{X}_{t-1})\)</span>. If the participant has not
switched then</p>
<dl class="docutils">
<dt>math::</dt>
<dd>vec{P}_mathrm{Prior}left(vec{X}_{t}right) = left(stackrel{1-delta}{delta} stackrel {delta}{1-delta} right) bullet vec{P}_mathrm{Post}left(vec{X}_{t-1}right)</dd>
</dl>
<p>If the participant has switched, then the probabilities become</p>
<dl class="docutils">
<dt>math::</dt>
<dd>vec{P}_mathrm{Prior}left(vec{X}_{t}right) = left(stackrel{delta}{1-delta} stackrel {1-delta}{delta} right)  bullet vec{P}_mathrm{Post}left(vec{X}_{t-1}right)</dd>
</dl>
<p>The posterior probabilities
<span class="math notranslate">\(\vec{P}_\mathrm{Post}\left(\vec{X}_{t}\right)\)</span> is defined for
the action <span class="math notranslate">\(A_t\)</span> providing the payoff <span class="math notranslate">\(Y_{t}\)</span> as</p>
<dl class="docutils">
<dt>math::</dt>
<dd><a href="#id6"><span class="problematic" id="id7">P_</span></a>mathrm{Post}left(X_{t} = A_{t}right) = frac{Y_{t}cdot <a href="#id8"><span class="problematic" id="id9">P_</span></a>mathrm{Prior}left(X_{t} = A_{t}right) }{sum_{i in vec{X_{t}}} Pleft(Y_{t} | X_{t}=iright)cdot <a href="#id10"><span class="problematic" id="id11">P_</span></a>mathrm{Prior}left(X_{t} = iright) }</dd>
</dl>
<p>and for all other actions as</p>
<dl class="docutils">
<dt>math::</dt>
<dd>vec{P}_mathrm{Post}left(vec{X}_{t} neq A_{t}right) = vec{P}_mathrm{Prior}left(vec{X}_{t} neq A_{t}right)</dd>
</dl>
<p>The <span class="math notranslate">\(P\left(Y_{t} | X_{t}=i\right)\)</span> is the probability at time
<span class="math notranslate">\(t\)</span> that the payoff <span class="math notranslate">\(\vec{Y_{t}}\)</span> would be returned when the
chosen action was the correct or incorrect. It is calculated from a normal
distribution where the probability distribution of payoffs are</p>
<dl class="docutils">
<dt>math::</dt>
<dd>vec{mu} = left(stackrel{mu_mathrm{Correct}}{mu_{Incorrect}}right) = left(stackrel{10}{-5}right)</dd>
</dl>
<p>and a variance of <span class="math notranslate">\(\sigma = 1\)</span></p>
<p>The probability that the subject switches their choice of action is</p>
<dl class="docutils">
<dt>math::</dt>
<dd><a href="#id12"><span class="problematic" id="id13">P_</span></a>mathrm{Switch}left(X_{t},A_{t}right) = frac{1}{1 - exp^{ beta left(mathbf{1}-<a href="#id14"><span class="problematic" id="id15">P_</span></a>mathrm{Post}left(X_{t}left(A_{t}right) = mathrm{Incorrect}right) - alpharight)}}</dd>
</dl>
<p>where <span class="math notranslate">\(\alpha\)</span> is the indecision point (when it is equiprobable to
make either choice), and <span class="math notranslate">\(\beta\)</span> is the degree of stochasticity in
making the choice (i.e., the exploration/exploitation parameter). Both are
defined in the simulation.</p>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'BHMM'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.BHMM.BHMM.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BHMM.html#BHMM.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BHMM.BHMM.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.BHMM.BHMM.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BHMM.html#BHMM.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BHMM.BHMM.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.BHMM.BHMM.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BHMM.html#BHMM.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BHMM.BHMM.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>expectedReward</strong> (<em>float</em>) – The expected reward</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.BHMM.BHMM.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BHMM.html#BHMM.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BHMM.BHMM.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.BHMM.BHMM.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BHMM.html#BHMM.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BHMM.BHMM.updateModel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.BHMM.blankRew">
<code class="descclassname">model.BHMM.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BHMM.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BHMM.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.BHMM.Name">
<code class="descclassname">model.BHMM.</code><code class="descname">Name</code><a class="headerlink" href="#model.BHMM.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.BHMM.blankStim">
<code class="descclassname">model.BHMM.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BHMM.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BHMM.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.Returns [1,0]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>blankStimFunc</strong> (<em>function</em>) – The function expects to be passed the event and then return [1,0].</li>
<li><strong>currAction</strong> (<em>int</em>) – The current action chosen by the model. Used to pass participant action
to model when fitting</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.BHMM.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.BHMM.normal">
<code class="descclassname">model.BHMM.</code><code class="descname">normal</code><span class="sig-paren">(</span><em>loc=0.0</em>, <em>scale=1.0</em>, <em>size=None</em><span class="sig-paren">)</span><a class="headerlink" href="#model.BHMM.normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw random samples from a normal (Gaussian) distribution.</p>
<p>The probability density function of the normal distribution, first
derived by De Moivre and 200 years later by both Gauss and Laplace
independently <a class="footnote-reference" href="#id5" id="id1">[2]</a>, is often called the bell curve because of
its characteristic shape (see the example below).</p>
<p>The normal distributions occurs often in nature.  For example, it
describes the commonly occurring distribution of samples influenced
by a large number of tiny, random disturbances, each with its own
unique distribution <a class="footnote-reference" href="#id5" id="id2">[2]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>loc</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><em>array_like of floats</em>) – Mean (“centre”) of the distribution.</li>
<li><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><em>array_like of floats</em>) – Standard deviation (spread or “width”) of the distribution.</li>
<li><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>tuple of ints</em><em>, </em><em>optional</em>) – Output shape.  If the given shape is, e.g., <code class="docutils literal notranslate"><span class="pre">(m,</span> <span class="pre">n,</span> <span class="pre">k)</span></code>, then
<code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">*</span> <span class="pre">n</span> <span class="pre">*</span> <span class="pre">k</span></code> samples are drawn.  If size is <code class="docutils literal notranslate"><span class="pre">None</span></code> (default),
a single value is returned if <code class="docutils literal notranslate"><span class="pre">loc</span></code> and <code class="docutils literal notranslate"><span class="pre">scale</span></code> are both scalars.
Otherwise, <code class="docutils literal notranslate"><span class="pre">np.broadcast(loc,</span> <span class="pre">scale).size</span></code> samples are drawn.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – Drawn samples from the parameterized normal distribution.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray or scalar</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.stats.norm()</span></code></dt>
<dd>probability density function, distribution or cumulative density function, etc.</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The probability density for the Gaussian distribution is</p>
<div class="math notranslate">
\[p(x) = \frac{1}{\sqrt{ 2 \pi \sigma^2 }}
e^{ - \frac{ (x - \mu)^2 } {2 \sigma^2} },\]</div>
<p>where <span class="math notranslate">\(\mu\)</span> is the mean and <span class="math notranslate">\(\sigma\)</span> the standard
deviation. The square of the standard deviation, <span class="math notranslate">\(\sigma^2\)</span>,
is called the variance.</p>
<p>The function has its peak at the mean, and its “spread” increases with
the standard deviation (the function reaches 0.607 times its maximum at
<span class="math notranslate">\(x + \sigma\)</span> and <span class="math notranslate">\(x - \sigma\)</span> <a class="footnote-reference" href="#id5" id="id3">[2]</a>).  This implies that
<cite>numpy.random.normal</cite> is more likely to return samples lying close to
the mean, rather than those far away.</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Wikipedia, “Normal distribution”,
<a class="reference external" href="http://en.wikipedia.org/wiki/Normal_distribution">http://en.wikipedia.org/wiki/Normal_distribution</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>, <a class="fn-backref" href="#id3">3</a>)</em> P. R. Peebles Jr., “Central Limit Theorem” in “Probability,
Random Variables and Random Signal Principles”, 4th ed., 2001,
pp. 51, 51, 125.</td></tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Draw samples from the distribution:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span> <span class="c1"># mean and standard deviation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Verify the mean and the variance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">abs</span><span class="p">(</span><span class="n">mu</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mf">0.01</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">abs</span><span class="p">(</span><span class="n">sigma</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mf">0.01</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Display the histogram of the samples, along with
the probability density function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">ignored</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">normed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">bins</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">sigma</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span> <span class="o">*</span>
<span class="gp">... </span>               <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span> <span class="o">-</span> <span class="p">(</span><span class="n">bins</span> <span class="o">-</span> <span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">sigma</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="p">),</span>
<span class="gp">... </span>         <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-model.BP">
<span id="model-bp-module"></span><h2>model.BP module<a class="headerlink" href="#module-model.BP" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.BP.BP">
<em class="property">class </em><code class="descclassname">model.BP.</code><code class="descname">BP</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BP.html#BP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BP.BP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The Bayesian predictor model</p>
<dl class="attribute">
<dt id="model.BP.BP.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.BP.BP.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities. Default <code class="docutils literal notranslate"><span class="pre">4</span></code></li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Decision threshold parameter. Default <code class="docutils literal notranslate"><span class="pre">0.3</span></code></li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'BP'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.BP.BP.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BP.html#BP.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BP.BP.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.BP.BP.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BP.html#BP.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BP.BP.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.BP.BP.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BP.html#BP.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BP.BP.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>expectedReward</strong> (<em>float</em>) – The expected reward</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.BP.BP.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BP.html#BP.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BP.BP.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.BP.BP.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BP.html#BP.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BP.BP.updateModel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.BP.blankRew">
<code class="descclassname">model.BP.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BP.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BP.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.BP.Name">
<code class="descclassname">model.BP.</code><code class="descname">Name</code><a class="headerlink" href="#model.BP.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.BP.blankStim">
<code class="descclassname">model.BP.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BP.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BP.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.Returns ([1,0], None)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>blankStimFunc</strong> (<em>function</em>) – The function expects to be passed the event and then return [1,0].</li>
<li><strong>currAction</strong> (<em>int</em>) – The current action chosen by the model. Used to pass participant action
to model when fitting</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.BP.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.BPMS">
<span id="model-bpms-module"></span><h2>model.BPMS module<a class="headerlink" href="#module-model.BPMS" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.BPMS.BPMS">
<em class="property">class </em><code class="descclassname">model.BPMS.</code><code class="descname">BPMS</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BPMS.html#BPMS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BPMS.BPMS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The Bayesian Predictor with Markovian Switching model</p>
<p>This model currently only copes with two actions and single stimuli</p>
<dl class="attribute">
<dt id="model.BPMS.BPMS.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.BPMS.BPMS.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities. Default <code class="docutils literal notranslate"><span class="pre">4</span></code></li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Decision threshold parameter. Default <code class="docutils literal notranslate"><span class="pre">0</span></code></li>
<li><strong>delta</strong> (float in range <code class="docutils literal notranslate"><span class="pre">[0,1]</span></code>, optional) – The switch probability parameter. Default <code class="docutils literal notranslate"><span class="pre">0</span></code></li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decSingle</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The Markovian switcher is the same as that used in BHMM and the rest is
taken from BP. It currently does not allow more than two actions, equally
you can only have two stimuli</p>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'BPMS'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.BPMS.BPMS.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BPMS.html#BPMS.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BPMS.BPMS.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.BPMS.BPMS.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BPMS.html#BPMS.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BPMS.BPMS.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.BPMS.BPMS.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BPMS.html#BPMS.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BPMS.BPMS.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>expectedReward</strong> (<em>float</em>) – The expected reward</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.BPMS.BPMS.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BPMS.html#BPMS.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BPMS.BPMS.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.BPMS.BPMS.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BPMS.html#BPMS.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BPMS.BPMS.updateModel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.BPMS.blankRew">
<code class="descclassname">model.BPMS.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BPMS.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BPMS.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.BPMS.Name">
<code class="descclassname">model.BPMS.</code><code class="descname">Name</code><a class="headerlink" href="#model.BPMS.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.BPMS.blankStim">
<code class="descclassname">model.BPMS.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/BPMS.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.BPMS.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.Returns [1,0]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>blankStimFunc</strong> (<em>function</em>) – The function expects to be passed the event and then return [1,0].</li>
<li><strong>currAction</strong> (<em>int</em>) – The current action chosen by the model. Used to pass participant action
to model when fitting</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.BPMS.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.EP">
<span id="model-ep-module"></span><h2>model.EP module<a class="headerlink" href="#module-model.EP" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Notes:</th><td class="field-body">In the version this model used the Luce choice algorithm,
rather than the logistic algorithm used here.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.EP.EP">
<em class="property">class </em><code class="descclassname">model.EP.</code><code class="descname">EP</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#EP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.EP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The expectation prediction model</p>
<dl class="attribute">
<dt id="model.EP.EP.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.EP.EP.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.EP.EP.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.EP.EP.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Decision threshold parameter</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expectations</strong> (<em>array</em><em>, </em><em>optional</em>) – The initialisation of the <cite>activity</cite> of the neurons.
The values are between <code class="docutils literal notranslate"><span class="pre">[0,1]`</span>
<span class="pre">Default</span> <span class="pre">``ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics`</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'EP'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.EP.EP.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#EP.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.EP.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.EP.EP.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#EP.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.EP.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.EP.EP.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#EP.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.EP.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.EP.EP.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#EP.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.EP.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the relevant data expected from a model as well as the parameters for the current model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.EP.EP.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#EP.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.EP.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.EP.EP.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#EP.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.EP.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.EP.EP.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#EP.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.EP.updateModel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.EP.blankRew">
<code class="descclassname">model.EP.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.EP.Name">
<code class="descclassname">model.EP.</code><code class="descname">Name</code><a class="headerlink" href="#model.EP.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.EP.blankStim">
<code class="descclassname">model.EP.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/EP.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.EP.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing. Returns [1,0]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return [1,0].</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.EP.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.MS">
<span id="model-ms-module"></span><h2>model.MS module<a class="headerlink" href="#module-model.MS" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Jumping to conclusions: a network model predicts schizophrenic patients’ performance on a probabilistic reasoning task.
<cite>Moore, S. C., &amp; Sellen, J. L. (2006)</cite>.
Cognitive, Affective &amp; Behavioral Neuroscience, 6(4), 261–9.
Retrieved from <a class="reference external" href="http://www.ncbi.nlm.nih.gov/pubmed/17458441">http://www.ncbi.nlm.nih.gov/pubmed/17458441</a></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.MS.MS">
<em class="property">class </em><code class="descclassname">model.MS.</code><code class="descname">MS</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The Moore &amp; Sellen model</p>
<dl class="attribute">
<dt id="model.MS.MS.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.MS.MS.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.MS.MS.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.MS.MS.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Decision threshold parameter</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>activity</strong> (<em>array</em><em>, </em><em>optional</em>) – The initialisation of the <cite>activity</cite> of the neurons. The values are between <code class="docutils literal notranslate"><span class="pre">[0,1]</span></code>
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'M&amp;S'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.MS.MS.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.MS.MS.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.MS.MS.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="model.MS.MS.modelSetPlot">
<em class="property">class </em><code class="descname">modelSetPlot</code><span class="sig-paren">(</span><em>modelSet</em>, <em>modelParams</em>, <em>modelLabels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.modelSetPlot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.modelSetPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelSetPlot.modelSetPlot" title="model.modelSetPlot.modelSetPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelSetPlot.modelSetPlot</span></code></a></p>
<p>Class for the creation of plots relevant to the model set</p>
<dl class="method">
<dt id="model.MS.MS.modelSetPlot.dPChanges">
<code class="descname">dPChanges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.modelSetPlot.dPChanges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.modelSetPlot.dPChanges" title="Permalink to this definition">¶</a></dt>
<dd><p>A graph reproducing figures 3 &amp; 4 from the paper</p>
</dd></dl>

<dl class="method">
<dt id="model.MS.MS.modelSetPlot.trial3_4Diff">
<code class="descname">trial3_4Diff</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.modelSetPlot.trial3_4Diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.modelSetPlot.trial3_4Diff" title="Permalink to this definition">¶</a></dt>
<dd><p>A graph reproducing figures 5 from the paper</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="model.MS.MS.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.MS.MS.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.MS.MS.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.MS.MS.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#MS.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.MS.updateModel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.MS.blankRew">
<code class="descclassname">model.MS.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.MS.Name">
<code class="descclassname">model.MS.</code><code class="descname">Name</code><a class="headerlink" href="#model.MS.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.MS.blankStim">
<code class="descclassname">model.MS.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.Returns [1,0]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return [1,0].</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.MS.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.MS_rev">
<span id="model-ms-rev-module"></span><h2>model.MS_rev module<a class="headerlink" href="#module-model.MS_rev" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the paper Jumping to conclusions: a network model predicts schizophrenic patients’ performance on a probabilistic reasoning task.
Moore, S. C., &amp; Sellen, J. L. (2006).
Cognitive, Affective &amp; Behavioral Neuroscience, 6(4), 261–9.
Retrieved from <a class="reference external" href="http://www.ncbi.nlm.nih.gov/pubmed/17458441">http://www.ncbi.nlm.nih.gov/pubmed/17458441</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Notes:</th><td class="field-body">In the original paper this model used a modified Luce choice
algorithm, rather than the logistic algorithm used here.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.MS_rev.MS_rev">
<em class="property">class </em><code class="descclassname">model.MS_rev.</code><code class="descname">MS_rev</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#MS_rev"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.MS_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>An adapted version of the Morre &amp; Sellen model</p>
<dl class="attribute">
<dt id="model.MS_rev.MS_rev.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.MS_rev.MS_rev.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.MS_rev.MS_rev.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.MS_rev.MS_rev.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Decision threshold parameter</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>activity</strong> (<em>array</em><em>, </em><em>optional</em>) – The initialisation of the <cite>activity</cite> of the neurons. The values are between <code class="docutils literal notranslate"><span class="pre">[0,1]</span></code>
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'MS_rev'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.MS_rev.MS_rev.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#MS_rev.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.MS_rev.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.MS_rev.MS_rev.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#MS_rev.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.MS_rev.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.MS_rev.MS_rev.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#MS_rev.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.MS_rev.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.MS_rev.MS_rev.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#MS_rev.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.MS_rev.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.MS_rev.MS_rev.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#MS_rev.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.MS_rev.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.MS_rev.MS_rev.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#MS_rev.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.MS_rev.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be accessed later</p>
<p>The stored variables are ones that describe the model.</p>
</dd></dl>

<dl class="method">
<dt id="model.MS_rev.MS_rev.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#MS_rev.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.MS_rev.updateModel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.MS_rev.blankRew">
<code class="descclassname">model.MS_rev.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.MS_rev.Name">
<code class="descclassname">model.MS_rev.</code><code class="descname">Name</code><a class="headerlink" href="#model.MS_rev.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.MS_rev.blankStim">
<code class="descclassname">model.MS_rev.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/MS_rev.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.MS_rev.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.Returns [1,0]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return [1,0].</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.MS_rev.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.OpAL">
<span id="model-opal-module"></span><h2>model.OpAL module<a class="headerlink" href="#module-model.OpAL" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the paper Opponent actor learning (OpAL): Modeling
interactive effects of striatal dopamine on reinforcement
learning and choice incentive.
Collins, A. G. E., &amp; Frank, M. J. (2014).
Psychological Review, 121(3), 337–66.
doi:10.1037/a0037015</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.OpAL.OpAL">
<em class="property">class </em><code class="descclassname">model.OpAL.</code><code class="descname">OpAL</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#OpAL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.OpAL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The Opponent actor learning model</p>
<dl class="attribute">
<dt id="model.OpAL.OpAL.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.OpAL.OpAL.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.OpAL.OpAL.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.OpAL.OpAL.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter, used as either the</li>
<li><strong>alphaGoNogoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.
If not <code class="docutils literal notranslate"><span class="pre">None</span></code> will overwrite <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>
<span class="math notranslate">\(\alpha_N = \alpha_G - \alpha_\delta\)</span></li>
<li><strong>alphaCrit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The critic learning rate. Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaGo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter for Go, the positive part of the actor learning
Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaNogo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter for Nogo, the negative part of the actor learning
Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaGoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaCrit</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>  and <code class="docutils literal notranslate"><span class="pre">alphaNogoDiff</span></code> is also not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will
overwrite the <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code> parameter
<span class="math notranslate">\(\alpha_G = \alpha_C + \alpha_\deltaG\)</span></li>
<li><strong>alphaNogoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaCrit</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>  and <code class="docutils literal notranslate"><span class="pre">alphaGoDiff</span></code> is also not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will
overwrite the <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code> parameter
<span class="math notranslate">\(\alpha_N = \alpha_C + \alpha_\deltaN\)</span></li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities. Also known as an exploration-
exploitation parameter. Defined as <span class="math notranslate">\(\beta\)</span> in the paper</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter for the probabilities.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>rho</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The asymmetry between the actor weights. <span class="math notranslate">\(\rho = \beta_G - \beta = \beta_N + \beta\)</span></li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>expectGo</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected go and nogo.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Actor: The chosen action is updated with</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}\delta_{d,t} = r_t-E_{d,t}\\E_{d,t+1} = E_{d,t} + \alpha_E \delta_{d,t}\end{aligned}\end{align} \]</div>
<p>Critic: The chosen action is updated with</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}G_{d,t+1} = G_{d,t} + \alpha_G G_{d,t} \delta_{d,t}\\N_{d,t+1} = N_{d,t} - \alpha_N N_{d,t} \delta_{d,t}\end{aligned}\end{align} \]</div>
<p>Probabilities: The probabilities for all actions are calculated using</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}A_{d,t} = (1+\rho) G_{d,t}-(1-\rho) N_{d,t}\\P_{d,t} = \frac{ e^{\beta A_{d,t} }}{\sum_{d \in D}e^{\beta A_{d,t}}}\end{aligned}\end{align} \]</div>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'OpAL'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.OpAL.OpAL.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#OpAL.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.OpAL.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL.OpAL.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#OpAL.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.OpAL.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL.OpAL.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#OpAL.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.OpAL.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL.OpAL.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#OpAL.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.OpAL.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL.OpAL.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#OpAL.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.OpAL.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL.OpAL.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#OpAL.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.OpAL.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.OpAL.OpAL.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#OpAL.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.OpAL.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.OpAL.blankRew">
<code class="descclassname">model.OpAL.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.OpAL.Name">
<code class="descclassname">model.OpAL.</code><code class="descname">Name</code><a class="headerlink" href="#model.OpAL.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.OpAL.blankStim">
<code class="descclassname">model.OpAL.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.OpAL.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.OpALS">
<span id="model-opals-module"></span><h2>model.OpALS module<a class="headerlink" href="#module-model.OpALS" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the paper Opponent actor learning (OpAL): Modeling
interactive effects of striatal dopamine on reinforcement
learning and choice incentive.
Collins, A. G. E., &amp; Frank, M. J. (2014).
Psychological Review, 121(3), 337–66.
doi:10.1037/a0037015</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.OpALS.OpALS">
<em class="property">class </em><code class="descclassname">model.OpALS.</code><code class="descname">OpALS</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#OpALS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.OpALS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The Opponent actor learning model modified to have saturation values</p>
<p>The saturation values are the same for the actor and critic learners</p>
<dl class="attribute">
<dt id="model.OpALS.OpALS.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.OpALS.OpALS.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.OpALS.OpALS.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.OpALS.OpALS.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter, used as either the</li>
<li><strong>alphaGoNogoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.
If not <code class="docutils literal notranslate"><span class="pre">None</span></code> will overwrite <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>
<span class="math notranslate">\(\alpha_N = \alpha_G - \alpha_\delta\)</span></li>
<li><strong>alphaCrit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The critic learning rate. Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaGo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter for Go, the positive part of the actor learning
Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaNogo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate aprameter for Nogo, the negative part of the actor learning
Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaGoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaCrit</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>  and <code class="docutils literal notranslate"><span class="pre">alphaNogoDiff</span></code> is also not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will
overwrite the <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code> parameter
<span class="math notranslate">\(\alpha_G = \alpha_C + \alpha_\deltaG\)</span></li>
<li><strong>alphaNogoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaCrit</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>  and <code class="docutils literal notranslate"><span class="pre">alphaGoDiff</span></code> is also not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will
overwrite the <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code> parameter
<span class="math notranslate">\(\alpha_N = \alpha_C + \alpha_\deltaN\)</span></li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities. Also known as an exploration-
exploitation parameter. Defined as <span class="math notranslate">\(\beta\)</span> in the paper</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter for the probabilities.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>rho</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The asymmetry between the actor weights. <span class="math notranslate">\(\rho = \beta_G - \beta = \beta_N + \beta\)</span></li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>expectGo</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected go and nogo.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>saturateVal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The saturation value for the model. Default is 10</li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Actor: The chosen action is updated with</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}\delta_{d,t} = r_t-E_{d,t}\\E_{d,t+1} = E_{d,t} + \alpha_E \delta_{d,t} (1-\frac{E_{d,t}}{S})\end{aligned}\end{align} \]</div>
<p>Critic: The chosen action is updated with</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}G_{d,t+1} = G_{d,t} + \alpha_G G_{d,t} \delta_{d,t} (1-\frac{G_{d,t}}{S})\\N_{d,t+1} = N_{d,t} - \alpha_N N_{d,t} \delta_{d,t} (1-\frac{N_{d,t}}{S})\end{aligned}\end{align} \]</div>
<p>Probabilities: The probabilities for all actions are calculated using</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}A_{d,t} = (1+\rho) G_{d,t}-(1-\rho) N_{d,t}\\P_{d,t} = \frac{ e^{\beta A_{d,t} }}{\sum_{d \in D}e^{\beta A_{d,t}}}\end{aligned}\end{align} \]</div>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'OpALS'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.OpALS.OpALS.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#OpALS.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.OpALS.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALS.OpALS.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#OpALS.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.OpALS.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALS.OpALS.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#OpALS.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.OpALS.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALS.OpALS.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#OpALS.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.OpALS.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALS.OpALS.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#OpALS.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.OpALS.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALS.OpALS.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#OpALS.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.OpALS.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.OpALS.OpALS.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#OpALS.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.OpALS.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.OpALS.blankRew">
<code class="descclassname">model.OpALS.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.OpALS.Name">
<code class="descclassname">model.OpALS.</code><code class="descname">Name</code><a class="headerlink" href="#model.OpALS.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.OpALS.blankStim">
<code class="descclassname">model.OpALS.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALS.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALS.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.OpALS.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.OpALSE">
<span id="model-opalse-module"></span><h2>model.OpALSE module<a class="headerlink" href="#module-model.OpALSE" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the paper Opponent actor learning (OpAL): Modeling
interactive effects of striatal dopamine on reinforcement
learning and choice incentive.
Collins, A. G. E., &amp; Frank, M. J. (2014).
Psychological Review, 121(3), 337–66.
doi:10.1037/a0037015</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.OpALSE.OpALSE">
<em class="property">class </em><code class="descclassname">model.OpALSE.</code><code class="descname">OpALSE</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#OpALSE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.OpALSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The Opponent actor learning model modified to have saturation values</p>
<p>The saturation values are the same for the actor and critic learners</p>
<dl class="attribute">
<dt id="model.OpALSE.OpALSE.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.OpALSE.OpALSE.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.OpALSE.OpALSE.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.OpALSE.OpALSE.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter, used as either the</li>
<li><strong>alphaGoNogoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.
If not <code class="docutils literal notranslate"><span class="pre">None</span></code> will overwrite <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>
<span class="math notranslate">\(\alpha_N = \alpha_G - \alpha_\delta\)</span></li>
<li><strong>alphaCrit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The critic learning rate. Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaGo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter for Go, the positive part of the actor learning
Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaNogo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate aprameter for Nogo, the negative part of the actor learning
Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaGoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaCrit</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>  and <code class="docutils literal notranslate"><span class="pre">alphaNogoDiff</span></code> is also not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will
overwrite the <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code> parameter
<span class="math notranslate">\(\alpha_G = \alpha_C + \alpha_\deltaG\)</span></li>
<li><strong>alphaNogoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaCrit</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>  and <code class="docutils literal notranslate"><span class="pre">alphaGoDiff</span></code> is also not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will
overwrite the <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code> parameter
<span class="math notranslate">\(\alpha_N = \alpha_C + \alpha_\deltaN\)</span></li>
<li><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities. Also known as an exploration-
exploitation parameter. Defined as <span class="math notranslate">\(\epsilon\)</span> in the paper</li>
<li><strong>rho</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The asymmetry between the actor weights. <span class="math notranslate">\(\rho = \epsilon_G - \epsilon = \epsilon_N + \epsilon\)</span></li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>expectGo</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected go and nogo.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>saturateVal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The saturation value for the model. Default is 10</li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Actor: The chosen action is updated with</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}\delta_{d,t} = r_t-E_{d,t}\\E_{d,t+1} = E_{d,t} + \alpha_E \delta_{d,t} (1-\frac{E_{d,t}}{S})\end{aligned}\end{align} \]</div>
<p>Critic: The chosen action is updated with</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}G_{d,t+1} = G_{d,t} + \alpha_G G_{d,t} \delta_{d,t} (1-\frac{G_{d,t}}{S})\\N_{d,t+1} = N_{d,t} - \alpha_N N_{d,t} \delta_{d,t} (1-\frac{N_{d,t}}{S})\end{aligned}\end{align} \]</div>
<p>Probabilities: The probabilities for all actions are calculated using</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}A_{d,t} = (1+\rho) G_{d,t}-(1-\rho) N_{d,t}\\P_{d,t} = \frac{ e^{\epsilon A_{d,t} }}{\sum_{d \in D}e^{\epsilon A_{d,t}}}\end{aligned}\end{align} \]</div>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'OpALS'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.OpALSE.OpALSE.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#OpALSE.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.OpALSE.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALSE.OpALSE.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#OpALSE.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.OpALSE.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALSE.OpALSE.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#OpALSE.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.OpALSE.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALSE.OpALSE.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#OpALSE.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.OpALSE.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALSE.OpALSE.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#OpALSE.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.OpALSE.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpALSE.OpALSE.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#OpALSE.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.OpALSE.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.OpALSE.OpALSE.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#OpALSE.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.OpALSE.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.OpALSE.blankRew">
<code class="descclassname">model.OpALSE.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.OpALSE.Name">
<code class="descclassname">model.OpALSE.</code><code class="descname">Name</code><a class="headerlink" href="#model.OpALSE.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.OpALSE.blankStim">
<code class="descclassname">model.OpALSE.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpALSE.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpALSE.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.OpALSE.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.OpAL_H">
<span id="model-opal-h-module"></span><h2>model.OpAL_H module<a class="headerlink" href="#module-model.OpAL_H" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the paper Opponent actor learning (OpAL): Modeling
interactive effects of striatal dopamine on reinforcement
learning and choice incentive.
Collins, A. G. E., &amp; Frank, M. J. (2014).
Psychological Review, 121(3), 337–66.
doi:10.1037/a0037015</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.OpAL_H.OpAL_H">
<em class="property">class </em><code class="descclassname">model.OpAL_H.</code><code class="descname">OpAL_H</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#OpAL_H"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.OpAL_H" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The Opponent actor learning model without Hebbian learning</p>
<dl class="attribute">
<dt id="model.OpAL_H.OpAL_H.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.OpAL_H.OpAL_H.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.OpAL_H.OpAL_H.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.OpAL_H.OpAL_H.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter, used as either the</li>
<li><strong>alphaGoNogoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.
If not <code class="docutils literal notranslate"><span class="pre">None</span></code> will overwrite <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>
<span class="math notranslate">\(\alpha_N = \alpha_G - \alpha_\delta\)</span></li>
<li><strong>alphaCrit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The critic learning rate. Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaGo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter for Go, the positive part of the actor learning
Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaNogo</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter for Nogo, the negative part of the actor learning
Default is <code class="docutils literal notranslate"><span class="pre">alpha</span></code></li>
<li><strong>alphaGoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaCrit</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>  and <code class="docutils literal notranslate"><span class="pre">alphaNogoDiff</span></code> is also not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will
overwrite the <code class="docutils literal notranslate"><span class="pre">alphaGo</span></code> parameter
<span class="math notranslate">\(\alpha_G = \alpha_C + \alpha_\deltaG\)</span></li>
<li><strong>alphaNogoDiff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The difference between <code class="docutils literal notranslate"><span class="pre">alphaCrit</span></code> and <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>
If not <code class="docutils literal notranslate"><span class="pre">None</span></code>  and <code class="docutils literal notranslate"><span class="pre">alphaGoDiff</span></code> is also not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will
overwrite the <code class="docutils literal notranslate"><span class="pre">alphaNogo</span></code> parameter
<span class="math notranslate">\(\alpha_N = \alpha_C + \alpha_\deltaN\)</span></li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities. Also known as an exploration-
exploitation parameter. Defined as <span class="math notranslate">\(\beta\)</span> in the paper</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter for the probabilities.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>rho</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The asymmetry between the actor weights. <span class="math notranslate">\(\rho = \beta_G - \beta = \beta_N + \beta\)</span></li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>expectGo</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected go and nogo.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Actor: The chosen action is updated with</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}\delta_{d,t} = r_t-E_{d,t}\\E_{d,t+1} = E_{d,t} + \alpha_E \delta_{d,t}\end{aligned}\end{align} \]</div>
<p>Critic: The chosen action is updated with</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}G_{d,t+1} = G_{d,t} + \alpha_G \delta_{d,t}\\N_{d,t+1} = N_{d,t} - \alpha_N \delta_{d,t}\end{aligned}\end{align} \]</div>
<p>Probabilities: The probabilities for all actions are calculated using</p>
<div class="math notranslate">
\[ \begin{align}\begin{aligned}A_{d,t} = (1+\rho) G_{d,t}-(1-\rho) N_{d,t}\\P_{d,t} = \frac{ e^{\beta A_{d,t} }}{\sum_{d \in D}e^{\beta A_{d,t}}}\end{aligned}\end{align} \]</div>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'OpAL_H'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.OpAL_H.OpAL_H.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#OpAL_H.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.OpAL_H.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL_H.OpAL_H.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#OpAL_H.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.OpAL_H.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL_H.OpAL_H.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#OpAL_H.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.OpAL_H.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL_H.OpAL_H.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#OpAL_H.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.OpAL_H.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL_H.OpAL_H.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#OpAL_H.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.OpAL_H.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.OpAL_H.OpAL_H.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#OpAL_H.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.OpAL_H.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.OpAL_H.OpAL_H.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#OpAL_H.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.OpAL_H.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.OpAL_H.blankRew">
<code class="descclassname">model.OpAL_H.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.OpAL_H.Name">
<code class="descclassname">model.OpAL_H.</code><code class="descname">Name</code><a class="headerlink" href="#model.OpAL_H.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.OpAL_H.blankStim">
<code class="descclassname">model.OpAL_H.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/OpAL_H.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.OpAL_H.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.OpAL_H.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.RVPM">
<span id="model-rvpm-module"></span><h2>model.RVPM module<a class="headerlink" href="#module-model.RVPM" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Value and prediction error in medial frontal cortex: integrating the single-unit and systems levels of analysis.
<cite>Silvetti, M., Seurinck, R., &amp; Verguts, T. (2011)</cite>.
Frontiers in Human Neuroscience, 5(August), 75.
doi:10.3389/fnhum.2011.00075</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.RVPM.RVPM">
<em class="property">class </em><code class="descclassname">model.RVPM.</code><code class="descname">RVPM</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#RVPM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.RVPM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The reward value and prediction model</p>
<dl class="attribute">
<dt id="model.RVPM.RVPM.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.RVPM.RVPM.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.RVPM.RVPM.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.RVPM.RVPM.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter for updating the cue-value weights. Default 0.3</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – It is a time constant that controls how quickly the neural units
(modeled as dynamical systems) respond to external inputs. Default 0.1</li>
<li><strong>zeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Regulates the ratio between the power (amplitude) of expectation
relative to delta units. Default 2</li>
<li><strong>w</strong> (<em>array</em><em>, </em><em>optional</em>) – The stimulus weights. Default [0.01,0.01]</li>
<li><strong>tau</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The timing signal mean. Default 160</li>
<li><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The timing signal spread. Default 20</li>
<li><strong>averaging</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) – The number of stimuli recorded from the beginning and end of each
training set. Default is 3</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is basicDecision</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'RVPM'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.RVPM.RVPM.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#RVPM.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.RVPM.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="model.RVPM.RVPM.modelSetPlot">
<em class="property">class </em><code class="descname">modelSetPlot</code><span class="sig-paren">(</span><em>modelSet</em>, <em>modelParams</em>, <em>modelLabels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#RVPM.modelSetPlot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.RVPM.modelSetPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelSetPlot.modelSetPlot" title="model.modelSetPlot.modelSetPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelSetPlot.modelSetPlot</span></code></a></p>
<p>Class for the creation of plots relevant to the model set</p>
<dl class="method">
<dt id="model.RVPM.RVPM.modelSetPlot.avResponse">
<code class="descname">avResponse</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#RVPM.modelSetPlot.avResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.RVPM.modelSetPlot.avResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>The averaged response from different parts of the model in the form
of figure 1 from the paper</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> (<em>string</em>) – The key to</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="model.RVPM.RVPM.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#RVPM.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.RVPM.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.RVPM.RVPM.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#RVPM.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.RVPM.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>expectedReward</strong> (<em>float</em>) – The expected reward</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.RVPM.RVPM.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#RVPM.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.RVPM.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.RVPM.RVPM.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#RVPM.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.RVPM.updateModel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.RVPM.basicDecision">
<code class="descclassname">model.RVPM.</code><code class="descname">basicDecision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#basicDecision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.basicDecision" title="Permalink to this definition">¶</a></dt>
<dd><p>The default decision function for RVPM</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>beadStim</strong> – The function expects to be passed the probabilities and then return
<cite>None</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.RVPM.Name">
<code class="descclassname">model.RVPM.</code><code class="descname">Name</code><a class="headerlink" href="#model.RVPM.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.RVPM.blankRew">
<code class="descclassname">model.RVPM.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.RVPM.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.RVPM.blankStim">
<code class="descclassname">model.RVPM.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/RVPM.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.RVPM.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>The default stimulus processor generator for RVPM</p>
<p>Passes the pavlov stimuli to models that cope with stimuli and rewards
that have a duration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function yields a series of ten events <code class="docutils literal notranslate"><span class="pre">t,0,0`</span></code>, where <code class="docutils literal notranslate"><span class="pre">t</span></code> is
the time. The stimulus and reward are set to 0.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-model.modelPlot">
<span id="model-modelplot-module"></span><h2>model.modelPlot module<a class="headerlink" href="#module-model.modelPlot" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.modelPlot.modelPlot">
<em class="property">class </em><code class="descclassname">model.modelPlot.</code><code class="descname">modelPlot</code><span class="sig-paren">(</span><em>model</em>, <em>modelParams</em>, <em>modelLabel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelPlot.html#modelPlot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelPlot.modelPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Abstract class for the creation of plots relevant to a model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – The data produced by the model</li>
<li><strong>modelParams</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – The parameters associated with the model</li>
<li><strong>modelLabel</strong> (<em>string</em>) – A unique identifier for the model</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="model.modelPlot.modelPlot.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelPlot.html#modelPlot.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelPlot.modelPlot.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the plots</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>figure</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">matplotlib.pyplot.figure</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#StopIteration" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">StopIteration</span></code></a> – When there are no more figures to return</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.modelSetPlot">
<span id="model-modelsetplot-module"></span><h2>model.modelSetPlot module<a class="headerlink" href="#module-model.modelSetPlot" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="model.modelSetPlot.modelSetPlot">
<em class="property">class </em><code class="descclassname">model.modelSetPlot.</code><code class="descname">modelSetPlot</code><span class="sig-paren">(</span><em>modelSet</em>, <em>modelParams</em>, <em>modelLabels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelSetPlot.html#modelSetPlot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelSetPlot.modelSetPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Abstract class for the creation of plots for sets of results from a model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>modelSet</strong> (<em>list of dictionaries</em>) – A list of sets of data produced by each model</li>
<li><strong>modelParams</strong> (<em>list with dictionaries</em>) – List of parameters associated with each model</li>
<li><strong>modelLabels</strong> (<em>list with strings</em>) – A list of unique identifiers for each model</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="model.modelSetPlot.modelSetPlot.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelSetPlot.html#modelSetPlot.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelSetPlot.modelSetPlot.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the plots</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>figure</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">matplotlib.pyplot.figure</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#StopIteration" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">StopIteration</span></code></a> – When there are no more figures to return</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.modelTemplate">
<span id="model-modeltemplate-module"></span><h2>model.modelTemplate module<a class="headerlink" href="#module-model.modelTemplate" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="model.modelTemplate.blankRew">
<code class="descclassname">model.modelTemplate.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.modelTemplate.Name">
<code class="descclassname">model.modelTemplate.</code><code class="descname">Name</code><a class="headerlink" href="#model.modelTemplate.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.modelTemplate.blankStim">
<code class="descclassname">model.modelTemplate.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.Returns ([1,0], None)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>blankStimFunc</strong> (<em>function</em>) – The function expects to be passed the event and then return [1,0].</li>
<li><strong>currAction</strong> (<em>int</em>) – The current action chosen by the model. Used to pass participant action
to model when fitting</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.modelTemplate.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="model.modelTemplate.model">
<em class="property">class </em><code class="descclassname">model.modelTemplate.</code><code class="descname">model</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The model class is a general template for a model. It also contains
universal methods used by all models.</p>
<dl class="attribute">
<dt id="model.modelTemplate.model.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.modelTemplate.model.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.modelTemplate.model.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.modelTemplate.model.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((self.numActions,</span> <span class="pre">self.numCues))</span> <span class="pre">/</span> <span class="pre">self.numCritics)</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'modelTemplate'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.actStimMerge">
<code class="descname">actStimMerge</code><span class="sig-paren">(</span><em>actStimuliParam</em>, <em>stimFilter=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.actStimMerge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.actStimMerge" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the parameter to be merged by stimuli and filters it by the stimuli values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>actStimuliParam</strong> (<em>list of floats</em>) – <dl class="docutils">
<dt>The list of values representing each action stimuli pair, where the stimuli will have their filtered</dt>
<dd>values merged together.</dd>
</dl>
</li>
<li><strong>stimFilter</strong> (<em>array of floats</em><em> or </em><em>a float</em><em>, </em><em>optional</em>) – The list of active stimuli with their weightings or one weight for all.
Default <code class="docutils literal notranslate"><span class="pre">1</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>actionParams</strong> – The parameter values associated with each action</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of floats</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.action">
<code class="descname">action</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.action" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the action of the model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>action</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">integer or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the action</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.choiceReflection">
<code class="descname">choiceReflection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.choiceReflection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.choiceReflection" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the model to update its state once an action has been chosen.</p>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.chooseAction">
<code class="descname">chooseAction</code><span class="sig-paren">(</span><em>probabilities</em>, <em>lastAction</em>, <em>events</em>, <em>validActions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.chooseAction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.chooseAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Chooses the next action and returns the associated probabilities</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>probabilities</strong> (<em>list of floats</em>) – The probabilities associated with each combinations</li>
<li><strong>lastAction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The last chosen action</li>
<li><strong>events</strong> (<em>list of floats</em>) – The stimuli. If probActions is True then this will be unused as the probabilities will already be</li>
<li><strong>validActions</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>newAction</strong> (<em>int</em>) – The chosen action</li>
<li><strong>decProbabilities</strong> (<em>list of floats</em>) – The weights for the different actions</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.feedback">
<code class="descname">feedback</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.feedback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.feedback" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives the reaction to the action and processes it</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The response from the experiment after an action. Returns without doing
anything if the value of response is <cite>None</cite>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.genStandardParameterDetails">
<code class="descname">genStandardParameterDetails</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.genStandardParameterDetails"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.genStandardParameterDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the standard parameters descibing the model as implemented.</p>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.genStandardParameters">
<code class="descname">genStandardParameters</code><span class="sig-paren">(</span><em>kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.genStandardParameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.genStandardParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises the standard parameters and variables for a model</p>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.genStandardResultsStore">
<code class="descname">genStandardResultsStore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.genStandardResultsStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.genStandardResultsStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the dictionary that stores the standard variables used to track a model</p>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.lastChoiceReinforcement">
<code class="descname">lastChoiceReinforcement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.lastChoiceReinforcement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.lastChoiceReinforcement" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the model to update the reward expectation for the previous timestep given the choice made in this timestep</p>
</dd></dl>

<dl class="class">
<dt id="model.modelTemplate.model.modelPlot">
<em class="property">class </em><code class="descname">modelPlot</code><span class="sig-paren">(</span><em>model</em>, <em>modelParams</em>, <em>modelLabel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.modelPlot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.modelPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelPlot.modelPlot" title="model.modelPlot.modelPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelPlot.modelPlot</span></code></a></p>
<p>Abstract class for the creation of plots relevant to a model</p>
</dd></dl>

<dl class="class">
<dt id="model.modelTemplate.model.modelSetPlot">
<em class="property">class </em><code class="descname">modelSetPlot</code><span class="sig-paren">(</span><em>modelSet</em>, <em>modelParams</em>, <em>modelLabels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.modelSetPlot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.modelSetPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelSetPlot.modelSetPlot" title="model.modelSetPlot.modelSetPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelSetPlot.modelSetPlot</span></code></a></p>
<p>Abstract class for the creation of plots relevant to a set of models</p>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.observe">
<code class="descname">observe</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.observe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.observe" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives the latest observation and decides what to do with it</p>
<p>There are five possible states:
Observation
Observation Action
Observation Action Feedback
Action Feedback
Observation Feedback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> (<em>tuple of</em><em> (</em><em>{int | float | tuple}</em><em>,</em><em>{tuple of int | None}</em><em>)</em>) – The stimulus from the experiment followed by the tuple of valid
actions. Passes the values onto a processing function,
self._updateObservation``.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.overrideActionChoice">
<code class="descname">overrideActionChoice</code><span class="sig-paren">(</span><em>action</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.overrideActionChoice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.overrideActionChoice" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a method for overriding the model action choice. This is used when fitting models to participant actions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Action chosen by external source to same situation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.params">
<code class="descname">params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the parameters of the model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>parameters</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a plotting class relevant for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>modelPlot</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#model.modelTemplate.model.modelPlot" title="model.modelTemplate.model.modelPlot">model.modelPlot</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.plotSet">
<code class="descname">plotSet</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.plotSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.plotSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a plotting class relevant analysis of sets of results from this
model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>modelSetPlot</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#model.modelTemplate.model.modelSetPlot" title="model.modelTemplate.model.modelSetPlot">model.modelSetPlot</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.processEvent">
<code class="descname">processEvent</code><span class="sig-paren">(</span><em>action=None</em>, <em>response=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.processEvent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.processEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrates the information from a stimulus, action, response set, regardless
of which of the three elements are present.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) – The chosen action of the model. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>response</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The response from the experiment after an action. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the expected reward for each action based on the stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stimuli</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>expectedRewards</strong> (<em>float</em>) – The expected reward for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.setsimID">
<code class="descname">setsimID</code><span class="sig-paren">(</span><em>simID</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.setsimID"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.setsimID" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>simID</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.standardResultOutput">
<code class="descname">standardResultOutput</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.standardResultOutput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.standardResultOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the relevant data expected from a model as well as the parameters for the current model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – A dictionary of details about the</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.storeStandardResults">
<code class="descname">storeStandardResults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.storeStandardResults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.storeStandardResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the store of standard results found across models</p>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.modelTemplate.model.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/modelTemplate.html#model.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.modelTemplate.model.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.qLearn">
<span id="model-qlearn-module"></span><h2>model.qLearn module<a class="headerlink" href="#module-model.qLearn" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the paper Regulatory fit effects in a choice task
Worthy, D. a, Maddox, W. T., &amp; Markman, A. B. (2007).
Psychonomic Bulletin &amp; Review, 14(6), 1125–32.
Retrieved from <a class="reference external" href="http://www.ncbi.nlm.nih.gov/pubmed/18229485">http://www.ncbi.nlm.nih.gov/pubmed/18229485</a></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="model.qLearn.blankRew">
<code class="descclassname">model.qLearn.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.qLearn.Name">
<code class="descclassname">model.qLearn.</code><code class="descname">Name</code><a class="headerlink" href="#model.qLearn.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.qLearn.blankStim">
<code class="descclassname">model.qLearn.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.qLearn.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="model.qLearn.qLearn">
<em class="property">class </em><code class="descclassname">model.qLearn.</code><code class="descname">qLearn</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#qLearn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.qLearn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The q-Learning algorithm</p>
<dl class="attribute">
<dt id="model.qLearn.qLearn.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.qLearn.qLearn.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.qLearn.qLearn.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.qLearn.qLearn.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Decision threshold parameter</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'qLearn'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.qLearn.qLearn.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#qLearn.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.qLearn.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn.qLearn.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#qLearn.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.qLearn.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn.qLearn.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#qLearn.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.qLearn.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn.qLearn.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#qLearn.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.qLearn.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn.qLearn.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#qLearn.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.qLearn.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn.qLearn.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#qLearn.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.qLearn.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.qLearn.qLearn.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn.html#qLearn.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn.qLearn.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.qLearn2">
<span id="model-qlearn2-module"></span><h2>model.qLearn2 module<a class="headerlink" href="#module-model.qLearn2" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Modified version of that found in the paper The role of the
ventromedial prefrontal cortex in abstract state-based inference
during decision making in humans.
Hampton, A. N., Bossaerts, P., &amp; O’Doherty, J. P. (2006).
The Journal of Neuroscience : The Official Journal of the
Society for Neuroscience, 26(32), 8360–7.
doi:10.1523/JNEUROSCI.1010-06.2006</td>
</tr>
<tr class="field-odd field"><th class="field-name">Notes:</th><td class="field-body">In the original paper this model used the Luce choice algorithm,
rather than the logistic algorithm used here. This generalisation has
meant that the variable nu is no longer possible to use.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="model.qLearn2.blankRew">
<code class="descclassname">model.qLearn2.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.qLearn2.Name">
<code class="descclassname">model.qLearn2.</code><code class="descname">Name</code><a class="headerlink" href="#model.qLearn2.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.qLearn2.blankStim">
<code class="descclassname">model.qLearn2.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.qLearn2.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="model.qLearn2.qLearn2">
<em class="property">class </em><code class="descclassname">model.qLearn2.</code><code class="descname">qLearn2</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#qLearn2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.qLearn2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The q-Learning algorithm modified to have different positive and
negative reward prediction errors</p>
<dl class="attribute">
<dt id="model.qLearn2.qLearn2.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.qLearn2.qLearn2.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.qLearn2.qLearn2.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.qLearn2.qLearn2.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter. For this model only used when setting alphaPos
and alphaNeg to the same value. Default 0.3</li>
<li><strong>alphaPos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The positive learning rate parameter. Used when RPE is positive.
Default is alpha</li>
<li><strong>alphaNeg</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The negative learning rate parameter. Used when RPE is negative.
Default is alpha</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>eta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Decision threshold parameter</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#module-model.qLearn" title="model.qLearn"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.qLearn</span></code></a></dt>
<dd>This model is heavily based on that one</dd>
</dl>
</div>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = 'qLearn2'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.qLearn2.qLearn2.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#qLearn2.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.qLearn2.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn2.qLearn2.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#qLearn2.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.qLearn2.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn2.qLearn2.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#qLearn2.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.qLearn2.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn2.qLearn2.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#qLearn2.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.qLearn2.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn2.qLearn2.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#qLearn2.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.qLearn2.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearn2.qLearn2.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#qLearn2.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.qLearn2.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.qLearn2.qLearn2.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearn2.html#qLearn2.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearn2.qLearn2.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.qLearnCorr">
<span id="model-qlearncorr-module"></span><h2>model.qLearnCorr module<a class="headerlink" href="#module-model.qLearnCorr" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the qLearn model and the choice autocorrelation equation in the paper
Trial-by-trial data analysis using computational models.
Daw, N. D. (2011).
Decision Making, Affect, and Learning: Attention and Performance XXIII (pp. 3–38).
<a class="reference external" href="http://doi.org/10.1093/acprof:oso/9780199600434.003.0001">http://doi.org/10.1093/acprof:oso/9780199600434.003.0001</a></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="model.qLearnCorr.blankRew">
<code class="descclassname">model.qLearnCorr.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.qLearnCorr.Name">
<code class="descclassname">model.qLearnCorr.</code><code class="descname">Name</code><a class="headerlink" href="#model.qLearnCorr.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.qLearnCorr.blankStim">
<code class="descclassname">model.qLearnCorr.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.qLearnCorr.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="model.qLearnCorr.qLearnCorr">
<em class="property">class </em><code class="descclassname">model.qLearnCorr.</code><code class="descname">qLearnCorr</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#qLearnCorr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.qLearnCorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The q-Learning algorithm</p>
<dl class="attribute">
<dt id="model.qLearnCorr.qLearnCorr.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.qLearnCorr.qLearnCorr.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.qLearnCorr.qLearnCorr.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.qLearnCorr.qLearnCorr.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities</li>
<li><strong>kappa</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The autocorelation parameter for which positive values promote sticking and negative values promote alternation</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'qLearnCorr'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.qLearnCorr.qLearnCorr.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#qLearnCorr.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.qLearnCorr.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnCorr.qLearnCorr.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em>, <em>action</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#qLearnCorr.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.qLearnCorr.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnCorr.qLearnCorr.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#qLearnCorr.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.qLearnCorr.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnCorr.qLearnCorr.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#qLearnCorr.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.qLearnCorr.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnCorr.qLearnCorr.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#qLearnCorr.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.qLearnCorr.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnCorr.qLearnCorr.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#qLearnCorr.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.qLearnCorr.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.qLearnCorr.qLearnCorr.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnCorr.html#qLearnCorr.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnCorr.qLearnCorr.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.qLearnE">
<span id="model-qlearne-module"></span><h2>model.qLearnE module<a class="headerlink" href="#module-model.qLearnE" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the Epsilon-greedy method along with a past choice autocorrelation inspired by <code class="docutils literal notranslate"><span class="pre">qLearnCorr</span></code></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="model.qLearnE.blankRew">
<code class="descclassname">model.qLearnE.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.qLearnE.Name">
<code class="descclassname">model.qLearnE.</code><code class="descname">Name</code><a class="headerlink" href="#model.qLearnE.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.qLearnE.blankStim">
<code class="descclassname">model.qLearnE.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.qLearnE.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="model.qLearnE.qLearnE">
<em class="property">class </em><code class="descclassname">model.qLearnE.</code><code class="descname">qLearnE</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#qLearnE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.qLearnE" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The q-Learning algorithm</p>
<dl class="attribute">
<dt id="model.qLearnE.qLearnE.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.qLearnE.qLearnE.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.qLearnE.qLearnE.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.qLearnE.qLearnE.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>kappa</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – The autocorelation parameter for which positive values promote sticking and negative values promote alternation</li>
<li><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Noise parameter. The larger it is the less likely the model is to choose the highest expected reward</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'qLearnE'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.qLearnE.qLearnE.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#qLearnE.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.qLearnE.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnE.qLearnE.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#qLearnE.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.qLearnE.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnE.qLearnE.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#qLearnE.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.qLearnE.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnE.qLearnE.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#qLearnE.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.qLearnE.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnE.qLearnE.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#qLearnE.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.qLearnE.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnE.qLearnE.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#qLearnE.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.qLearnE.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.qLearnE.qLearnE.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnE.html#qLearnE.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnE.qLearnE.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.qLearnMeta">
<span id="model-qlearnmeta-module"></span><h2>model.qLearnMeta module<a class="headerlink" href="#module-model.qLearnMeta" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the model qLearn as well as the paper:
Meta-learning in Reinforcement Learning</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="model.qLearnMeta.blankRew">
<code class="descclassname">model.qLearnMeta.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.qLearnMeta.Name">
<code class="descclassname">model.qLearnMeta.</code><code class="descname">Name</code><a class="headerlink" href="#model.qLearnMeta.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.qLearnMeta.blankStim">
<code class="descclassname">model.qLearnMeta.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.qLearnMeta.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="model.qLearnMeta.qLearnMeta">
<em class="property">class </em><code class="descclassname">model.qLearnMeta.</code><code class="descname">qLearnMeta</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#qLearnMeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.qLearnMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The q-Learning algorithm with a second-order adaptive beta</p>
<dl class="attribute">
<dt id="model.qLearnMeta.qLearnMeta.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.qLearnMeta.qLearnMeta.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>tau</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Beta  rate Sensitivity parameter for probabilities</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'qLearnMeta'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.qLearnMeta.qLearnMeta.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#qLearnMeta.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnMeta.qLearnMeta.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#qLearnMeta.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnMeta.qLearnMeta.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#qLearnMeta.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnMeta.qLearnMeta.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#qLearnMeta.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnMeta.qLearnMeta.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#qLearnMeta.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnMeta.qLearnMeta.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#qLearnMeta.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.qLearnMeta.qLearnMeta.updateBeta">
<code class="descname">updateBeta</code><span class="sig-paren">(</span><em>reward</em>, <em>action</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#qLearnMeta.updateBeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.updateBeta" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.qLearnMeta.qLearnMeta.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/qLearnMeta.html#qLearnMeta.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.qLearnMeta.qLearnMeta.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.td0">
<span id="model-td0-module"></span><h2>model.td0 module<a class="headerlink" href="#module-model.td0" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the description on p134-135 of Reinforcement Learning, Sutton &amp; Barto 1998</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="model.td0.blankRew">
<code class="descclassname">model.td0.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.td0.Name">
<code class="descclassname">model.td0.</code><code class="descname">Name</code><a class="headerlink" href="#model.td0.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.td0.blankStim">
<code class="descclassname">model.td0.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.td0.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="model.td0.td0">
<em class="property">class </em><code class="descclassname">model.td0.</code><code class="descname">td0</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#td0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.td0" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The td-Learning algorithm</p>
<dl class="attribute">
<dt id="model.td0.td0.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.td0.td0.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.td0.td0.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.td0.td0.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities</li>
<li><strong>gamma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – future expectation discounting</li>
<li><strong>invBeta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Inverse of sensitivity parameter.
Defined as <span class="math notranslate">\(\frac{1}{\beta+1}\)</span>. Default <code class="docutils literal notranslate"><span class="pre">0.2</span></code></li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'td0'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.td0.td0.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#td0.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.td0.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.td0.td0.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#td0.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.td0.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.td0.td0.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#td0.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.td0.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.td0.td0.lastChoiceReinforcement">
<code class="descname">lastChoiceReinforcement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#td0.lastChoiceReinforcement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.td0.lastChoiceReinforcement" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the model to update its expectations once the action has been chosen.</p>
</dd></dl>

<dl class="method">
<dt id="model.td0.td0.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#td0.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.td0.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.td0.td0.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#td0.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.td0.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.td0.td0.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#td0.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.td0.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.td0.td0.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/td0.html#td0.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.td0.td0.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model.tdE">
<span id="model-tde-module"></span><h2>model.tdE module<a class="headerlink" href="#module-model.tdE" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dominic Hunt</td>
</tr>
<tr class="field-even field"><th class="field-name">Reference:</th><td class="field-body">Based on the description on p134-135 of Reinforcement Learning, Sutton &amp; Barto 1998</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="model.tdE.blankRew">
<code class="descclassname">model.tdE.</code><code class="descname">blankRew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#blankRew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.blankRew" title="Permalink to this definition">¶</a></dt>
<dd><p>Default reward processor. Does nothing. Returns reward</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankRewFunc</strong> – The function expects to be passed the reward and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="model.tdE.Name">
<code class="descclassname">model.tdE.</code><code class="descname">Name</code><a class="headerlink" href="#model.tdE.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="model.tdE.blankStim">
<code class="descclassname">model.tdE.</code><code class="descname">blankStim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#blankStim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.blankStim" title="Permalink to this definition">¶</a></dt>
<dd><p>Default stimulus processor. Does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>blankStimFunc</strong> – The function expects to be passed the event and then return it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descclassname">model.tdE.</code><code class="descname">Name</code></dt>
<dd><p><em>string</em> – The identifier of the function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="model.tdE.tdE">
<em class="property">class </em><code class="descclassname">model.tdE.</code><code class="descname">tdE</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#tdE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.tdE" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#model.modelTemplate.model" title="model.modelTemplate.model"><code class="xref py py-class docutils literal notranslate"><span class="pre">model.modelTemplate.model</span></code></a></p>
<p>The td-Learning algorithm</p>
<dl class="attribute">
<dt id="model.tdE.tdE.Name">
<code class="descname">Name</code><a class="headerlink" href="#model.tdE.tdE.Name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>string</em> – The name of the class used when recording what has been used.</p>
</dd></dl>

<dl class="attribute">
<dt id="model.tdE.tdE.currAction">
<code class="descname">currAction</code><a class="headerlink" href="#model.tdE.tdE.currAction" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – The current action chosen by the model. Used to pass participant action
to model when fitting</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Learning rate parameter</li>
<li><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – Sensitivity parameter for probabilities</li>
<li><strong>gamma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><em>optional</em>) – future expectation discounting</li>
<li><strong>numActions</strong> (<em>integer</em><em>, </em><em>optional</em>) – The maximum number of valid actions the model can expect to receive.
Default 2.</li>
<li><strong>numCues</strong> (<em>integer</em><em>, </em><em>optional</em>) – <dl class="docutils">
<dt>The initial maximum number of stimuli the model can expect to receive.</dt>
<dd>Default 1.</dd>
</dl>
</li>
<li><strong>numCritics</strong> (<em>integer</em><em>, </em><em>optional</em>) – The number of different reaction learning sets.
Default numActions*numCues</li>
<li><strong>actionCodes</strong> (<em>dict with string</em><em> or </em><em>int as keys and int values</em><em>, </em><em>optional</em>) – A dictionary used to convert between the action references used by the
task or dataset and references used in the models to describe the order
in which the action information is stored.</li>
<li><strong>prior</strong> (array of floats in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>, optional) – The prior probability of of the states being the correct one.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">/</span> <span class="pre">numCritics)</span></code></li>
<li><strong>expect</strong> (<em>array of floats</em><em>, </em><em>optional</em>) – The initialisation of the the expected reward.
Default <code class="docutils literal notranslate"><span class="pre">ones((numActions,</span> <span class="pre">numCues))</span> <span class="pre">*</span> <span class="pre">5</span> <span class="pre">/</span> <span class="pre">numCues</span></code></li>
<li><strong>stimFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the stimulus into a form the model can
understand and a string to identify it later. Default is blankStim</li>
<li><strong>rewFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that transforms the reward into a form the model can
understand. Default is blankRew</li>
<li><strong>decFunc</strong> (<em>function</em><em>, </em><em>optional</em>) – The function that takes the internal values of the model and turns them
in to a decision. Default is model.decision.binary.decEta</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt>
<code class="descname">Name</code><em class="property"> = u'tdE'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="model.tdE.tdE.actorStimulusProbs">
<code class="descname">actorStimulusProbs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#tdE.actorStimulusProbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.tdE.actorStimulusProbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in the model-appropriate way the probability of each action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>probabilities</strong> – The probabilities associated with the action choices</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.tdE.tdE.calcProbabilities">
<code class="descname">calcProbabilities</code><span class="sig-paren">(</span><em>actionValues</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#tdE.calcProbabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.tdE.calcProbabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the probabilities associated with the actions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actionValues</strong> (<em>1D ndArray of floats</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>probArray</strong> – The probabilities associated with the actionValues</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1D ndArray of floats</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.tdE.tdE.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>reward</em>, <em>expectation</em>, <em>action</em>, <em>stimuli</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#tdE.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.tdE.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the comparison between the reward and the expectation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reward</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The reward value</li>
<li><strong>expectation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The expected reward value</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The chosen action</li>
<li><strong>stimuli</strong> (<em>{int | float | tuple | None}</em>) – The stimuli received</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">delta</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.tdE.tdE.lastChoiceReinforcement">
<code class="descname">lastChoiceReinforcement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#tdE.lastChoiceReinforcement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.tdE.lastChoiceReinforcement" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the model to update its expectations once the action has been chosen.</p>
</dd></dl>

<dl class="method">
<dt id="model.tdE.tdE.outputEvolution">
<code class="descname">outputEvolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#tdE.outputEvolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.tdE.outputEvolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the relevant data for this model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – The dictionary contains a series of keys including Name,
Probabilities, Actions and Events.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.tdE.tdE.rewardExpectation">
<code class="descname">rewardExpectation</code><span class="sig-paren">(</span><em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#tdE.rewardExpectation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.tdE.rewardExpectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the estimated reward based on the action and stimuli</p>
<p>This contains parts that are experiment dependent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observation</strong> (<em>{int | float | tuple}</em>) – The set of stimuli</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>actionExpectations</strong> (<em>array of floats</em>) – The expected rewards for each action</li>
<li><strong>stimuli</strong> (<em>list of floats</em>) – The processed observations</li>
<li><strong>activeStimuli</strong> (<em>list of [0, 1] mapping to [False, True]</em>) – A list of the stimuli that were or were not present</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.tdE.tdE.storeState">
<code class="descname">storeState</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#tdE.storeState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.tdE.storeState" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the state of all the important variables so that they can be
accessed later</p>
</dd></dl>

<dl class="method">
<dt id="model.tdE.tdE.updateModel">
<code class="descname">updateModel</code><span class="sig-paren">(</span><em>delta</em>, <em>action</em>, <em>stimuli</em>, <em>stimuliFilter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/model/tdE.html#tdE.updateModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#model.tdE.tdE.updateModel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>delta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – The difference between the reward and the expected reward</li>
<li><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – The action chosen by the model in this timestep</li>
<li><strong>stimuli</strong> (<em>list of float</em>) – The weights of the different stimuli in this timestep</li>
<li><strong>stimuliFilter</strong> (<em>list of bool</em>) – A list describing if a stimulus cue is present in this timestep</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-model">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-model" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">model package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-model.ACBasic">model.ACBasic module</a></li>
<li><a class="reference internal" href="#module-model.ACE">model.ACE module</a></li>
<li><a class="reference internal" href="#module-model.ACES">model.ACES module</a></li>
<li><a class="reference internal" href="#module-model.BHMM">model.BHMM module</a></li>
<li><a class="reference internal" href="#module-model.BP">model.BP module</a></li>
<li><a class="reference internal" href="#module-model.BPMS">model.BPMS module</a></li>
<li><a class="reference internal" href="#module-model.EP">model.EP module</a></li>
<li><a class="reference internal" href="#module-model.MS">model.MS module</a></li>
<li><a class="reference internal" href="#module-model.MS_rev">model.MS_rev module</a></li>
<li><a class="reference internal" href="#module-model.OpAL">model.OpAL module</a></li>
<li><a class="reference internal" href="#module-model.OpALS">model.OpALS module</a></li>
<li><a class="reference internal" href="#module-model.OpALSE">model.OpALSE module</a></li>
<li><a class="reference internal" href="#module-model.OpAL_H">model.OpAL_H module</a></li>
<li><a class="reference internal" href="#module-model.RVPM">model.RVPM module</a></li>
<li><a class="reference internal" href="#module-model.modelPlot">model.modelPlot module</a></li>
<li><a class="reference internal" href="#module-model.modelSetPlot">model.modelSetPlot module</a></li>
<li><a class="reference internal" href="#module-model.modelTemplate">model.modelTemplate module</a></li>
<li><a class="reference internal" href="#module-model.qLearn">model.qLearn module</a></li>
<li><a class="reference internal" href="#module-model.qLearn2">model.qLearn2 module</a></li>
<li><a class="reference internal" href="#module-model.qLearnCorr">model.qLearnCorr module</a></li>
<li><a class="reference internal" href="#module-model.qLearnE">model.qLearnE module</a></li>
<li><a class="reference internal" href="#module-model.qLearnMeta">model.qLearnMeta module</a></li>
<li><a class="reference internal" href="#module-model.td0">model.td0 module</a></li>
<li><a class="reference internal" href="#module-model.tdE">model.tdE module</a></li>
<li><a class="reference internal" href="#module-model">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="models.html"
                        title="previous chapter">models module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="model.decision.html"
                        title="next chapter">model.decision package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/model.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="model.decision.html" title="model.decision package"
             >next</a> |</li>
        <li class="right" >
          <a href="models.html" title="models module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyHPDM 0.9 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Dominic Hunt.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.2.
    </div>
  </body>
</html>