
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>data_fitting &#8212; pyHPDM 0.9.9 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fit_record" href="dataFitting.fit_record.html" />
    <link rel="prev" title="dataFitting module" href="../dataFitting.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dataFitting.fit_record.html" title="fit_record"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../dataFitting.html" title="dataFitting module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyHPDM 0.9.9 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../dataFitting.html" accesskey="U">dataFitting module</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="data-fitting">
<h1>data_fitting<a class="headerlink" href="#data-fitting" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="dataFitting.data_fitting">
<code class="descclassname">dataFitting.</code><code class="descname">data_fitting</code><span class="sig-paren">(</span><em>data_folder=u'./'</em>, <em>data_format=u'csv'</em>, <em>data_file_filter=None</em>, <em>data_file_terminal_ID=True</em>, <em>data_read_options=None</em>, <em>data_split_by=None</em>, <em>data_extra_processing=None</em>, <em>model_name=u'QLearn'</em>, <em>model_changing_properties=None</em>, <em>model_constant_properties=None</em>, <em>participantID=u'Name'</em>, <em>participant_choices=u'Actions'</em>, <em>participant_rewards=u'Rewards'</em>, <em>model_fit_value=u'ActionProb'</em>, <em>fit_subset=None</em>, <em>task_stimuli=None</em>, <em>participant_action_options=None</em>, <em>fit_method=u'Evolutionary'</em>, <em>fit_method_args=None</em>, <em>fit_measure=u'-loge'</em>, <em>fit_measure_args=None</em>, <em>fit_extra_measures=None</em>, <em>participant_varying_model_parameters=None</em>, <em>label=None</em>, <em>save_fitting_progress=False</em>, <em>config_file=None</em>, <em>output_path=None</em>, <em>pickle=False</em>, <em>boundary_excess_cost_function=None</em>, <em>min_log_level=u'INFO'</em>, <em>numpy_error_level=u'log'</em>, <em>fit_float_error_response_value=1e-100</em>, <em>calculate_covariance=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataFitting.html#data_fitting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.data_fitting" title="Permalink to this definition">¶</a></dt>
<dd><p>A framework for fitting models to data for tasks, along with
recording the data associated with the fits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_folder</strong> (<em>string</em><em> or </em><em>list of strings</em><em>, </em><em>optional</em>) – The folder where the data can be found. Default is the current folder.</li>
<li><strong>data_format</strong> (<em>string</em><em>, </em><em>optional</em>) – The file type of the data, from <code class="docutils literal notranslate"><span class="pre">mat</span></code>, <code class="docutils literal notranslate"><span class="pre">csv</span></code>, <code class="docutils literal notranslate"><span class="pre">xlsx</span></code> and <code class="docutils literal notranslate"><span class="pre">pkl</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">csv</span></code></li>
<li><strong>data_file_filter</strong> (<em>callable</em><em>, </em><em>string</em><em>, </em><em>list of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>, </em><em>optional</em>) – A function to process the file names or a list of possible prefixes as strings or a single string.
Default <code class="docutils literal notranslate"><span class="pre">None</span></code>, no file names removed</li>
<li><strong>data_file_terminal_ID</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Is there an ID number at the end of the filename? If not then a more general search will be performed.
Default <code class="docutils literal notranslate"><span class="pre">True</span></code></li>
<li><strong>data_read_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – The keyword arguments for the data importing method chosen</li>
<li><strong>data_split_by</strong> (<em>string</em><em> or </em><em>list of strings</em><em>, </em><em>optional</em>) – If multiple participant datasets are in one file sheet, this specifies the column or columns that can
distinguish and identify the rows for each participant. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>data_extra_processing</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function that modifies the dictionary of data read for each participant in such that it is appropriate
for fitting. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>model_name</strong> (<em>string</em><em>, </em><em>optional</em>) – The name of the file where a model.modelTemplate.Model class can be found. Default <code class="docutils literal notranslate"><span class="pre">QLearn</span></code></li>
<li><strong>model_changing_properties</strong> (<em>dictionary with values of tuple of two floats</em><em>, </em><em>optional</em>) – Parameters are the options that you allow to vary across model fits. Each model parameter is specified as a
dict key. The value is a tuple containing the upper and lower search bounds, e.g. <code class="docutils literal notranslate"><span class="pre">alpha</span></code> has the bounds
(0, 1). Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>model_constant_properties</strong> (<em>dictionary of float</em><em>, </em><em>string</em><em> or </em><em>binary valued elements</em><em>, </em><em>optional</em>) – These contain all the the model options that define the version
of the model being studied. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>participantID</strong> (<em>basestring</em><em>, </em><em>optional</em>) – The key (label) used to identify each participant. Default <code class="docutils literal notranslate"><span class="pre">Name</span></code></li>
<li><strong>participant_choices</strong> (<em>string</em><em>, </em><em>optional</em>) – The participant data key of their action choices. Default <code class="docutils literal notranslate"><span class="pre">'Actions'</span></code></li>
<li><strong>participant_rewards</strong> (<em>string</em><em>, </em><em>optional</em>) – The participant data key of the participant reward data. Default <code class="docutils literal notranslate"><span class="pre">'Rewards'</span></code></li>
<li><strong>model_fit_value</strong> (<em>string</em><em>, </em><em>optional</em>) – The key to be compared in the model data. Default <code class="docutils literal notranslate"><span class="pre">'ActionProb'</span></code></li>
<li><strong>fit_subset</strong> (<code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;rewarded&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;unrewarded&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> or list of int, optional) – Describes which, if any, subset of trials will be used to evaluate the performance of the model.
This can either be described as a list of trial numbers or, by passing
- <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> for fitting all trials
- <code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;unrewarded&quot;</span></code> for all those trials whose feedback was <code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code>
- <code class="docutils literal notranslate"><span class="pre">&quot;rewarded&quot;</span></code> for those who had feedback that was not <code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code>
Default <code class="docutils literal notranslate"><span class="pre">None</span></code>, which means all trials will be used.</li>
<li><strong>task_stimuli</strong> (<em>list of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>, </em><em>optional</em>) – The keys containing the observational parameters seen by the
participant before taking a decision on an action. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>participant_action_options</strong> (<em>string</em><em> or </em><em>list of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em> or </em><em>one element list with a list</em><em>, </em><em>optional</em>) – If a string or list of strings these are treated as dict keys where the valid actions for each trial can
be found. If None then all trials will use all available actions. If the list contains one list then it will
be treated as a list of valid actions for each trialstep. Default <code class="docutils literal notranslate"><span class="pre">'None'</span></code></li>
<li><strong>fit_method</strong> (<em>string</em><em>, </em><em>optional</em>) – The fitting method to be used. The names accepted are those of the modules in the folder fitAlgs containing a
FitAlg class. Default <code class="docutils literal notranslate"><span class="pre">'evolutionary'</span></code></li>
<li><strong>fit_method_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of arguments specific to the fitting method. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>fit_measure</strong> (<em>string</em><em>, </em><em>optional</em>) – The name of the function used to calculate the quality of the fit.
The value it returns provides the fitter with its fitting guide. Default <code class="docutils literal notranslate"><span class="pre">-loge</span></code></li>
<li><strong>fit_measure_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – The parameters used to initialise fitMeasure and extraFitMeasures. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>fit_extra_measures</strong> (<em>list of strings</em><em>, </em><em>optional</em>) – List of fit measures not used to fit the model, but to provide more information. Any arguments needed for these
measures should be placed in fitMeasureArgs. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>participant_varying_model_parameters</strong> (<em>dict of string</em><em>, </em><em>optional</em>) – A dictionary of model settings whose values should vary from participant to participant based on the
values found in the imported participant data files. The key is the label given in the participant data file,
as a string, and the value is the associated label in the model, also as a string. Default <code class="docutils literal notranslate"><span class="pre">{}</span></code></li>
<li><strong>label</strong> (<em>string</em><em>, </em><em>optional</em>) – The label for the data fitting. Default <code class="docutils literal notranslate"><span class="pre">None</span></code> will mean no data is saved to files.</li>
<li><strong>save_fitting_progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Specifies if the results from each iteration of the fitting process should be returned. Default <code class="docutils literal notranslate"><span class="pre">False</span></code></li>
<li><strong>config_file</strong> (<em>string</em><em>, </em><em>optional</em>) – The file name and path of a <code class="docutils literal notranslate"><span class="pre">.yaml</span></code> configuration file. Overrides all other parameters if found.
Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>output_path</strong> (<em>string</em><em>, </em><em>optional</em>) – The path that will be used for the run output. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></li>
<li><strong>pickle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If true the data for each model, and participant is recorded.
Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></li>
<li><strong>boundary_excess_cost_function</strong> (<em>basestring</em><em> or </em><em>callable returning a function</em><em>, </em><em>optional</em>) – The function is used to calculate the penalty for exceeding the boundaries.
Default is <code class="docutils literal notranslate"><span class="pre">boundFunc.scalarBound()</span></code></li>
<li><strong>min_log_level</strong> (<em>basestring</em><em>, </em><em>optional</em>) – Defines the level of the log from (<code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>, <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>, <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>, <code class="docutils literal notranslate"><span class="pre">CRITICAL</span></code>). Default <code class="docutils literal notranslate"><span class="pre">INFO</span></code></li>
<li><strong>numpy_error_level</strong> (<em>{'log'</em><em>, </em><em>'raise'}</em>) – Defines the response to numpy errors. Default <code class="docutils literal notranslate"><span class="pre">log</span></code>. See numpy.seterr</li>
<li><strong>fit_float_error_response_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – If a floating point error occurs when running a fit the fitter function
will return a value for each element of fpRespVal. Default is <a href="#id1"><span class="problematic" id="id2">``</span></a>1/1e100`</li>
<li><strong>calculate_covariance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Is the covariance calculated. Default <code class="docutils literal notranslate"><span class="pre">False</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="../modelGenerator.html#module-modelGenerator" title="modelGenerator"><code class="xref py py-func docutils literal notranslate"><span class="pre">modelGenerator()</span></code></a></dt>
<dd>The model factory</dd>
<dt><a class="reference internal" href="../outputting.html#module-outputting" title="outputting"><code class="xref py py-func docutils literal notranslate"><span class="pre">outputting()</span></code></a></dt>
<dd>The outputting functions</dd>
<dt><a class="reference internal" href="../fitAlgs.fitAlg.html#fitAlgs.fitAlg.FitAlg" title="fitAlgs.fitAlg.FitAlg"><code class="xref py py-func docutils literal notranslate"><span class="pre">fitAlgs.fitAlg.FitAlg()</span></code></a></dt>
<dd>General class for a method of fitting data</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">fitAlgs.fitSims.fitSim()</span></code></dt>
<dd>General class for a method of simulating the fitting of data</dd>
<dt><a class="reference internal" href="../data.html#data.Data" title="data.Data"><code class="xref py py-func docutils literal notranslate"><span class="pre">data.Data()</span></code></a></dt>
<dd>Data import class</dd>
</dl>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../dataFitting.html"
                        title="previous chapter">dataFitting module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dataFitting.fit_record.html"
                        title="next chapter">fit_record</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/dataFitting.data_fitting.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dataFitting.fit_record.html" title="fit_record"
             >next</a> |</li>
        <li class="right" >
          <a href="../dataFitting.html" title="dataFitting module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyHPDM 0.9.9 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../dataFitting.html" >dataFitting module</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2020, Dominic Hunt.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>