
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>FitSim &#8212; pyHPDM 0.9.9 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyHPDM 0.9.9 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="fitsim">
<h1>FitSim<a class="headerlink" href="#fitsim" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="fitAlgs.fitSims.FitSim">
<em class="property">class </em><code class="sig-prename descclassname">fitAlgs.fitSims.</code><code class="sig-name descname">FitSim</code><span class="sig-paren">(</span><em class="sig-param">participant_choice_property='Actions'</em>, <em class="sig-param">participant_reward_property='Rewards'</em>, <em class="sig-param">model_fitting_variable='ActionProb'</em>, <em class="sig-param">task_stimuli_property=None</em>, <em class="sig-param">fit_subset=None</em>, <em class="sig-param">action_options_property=None</em>, <em class="sig-param">float_error_response_value=1e-100</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fitAlgs/fitSims.html#FitSim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.fitSims.FitSim" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class for fitting data by passing the participant data through the model.</p>
<p>This has been setup for fitting action-response models</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_choice_property</strong> (<em>string</em><em>, </em><em>optional</em>) – The participant data key of their action choices. Default <code class="docutils literal notranslate"><span class="pre">'Actions'</span></code></p></li>
<li><p><strong>participant_reward_property</strong> (<em>string</em><em>, </em><em>optional</em>) – The participant data key of the participant reward data. Default <code class="docutils literal notranslate"><span class="pre">'Rewards'</span></code></p></li>
<li><p><strong>model_fitting_variable</strong> (<em>string</em><em>, </em><em>optional</em>) – The key to be compared in the model data. Default <code class="docutils literal notranslate"><span class="pre">'ActionProb'</span></code></p></li>
<li><p><strong>task_stimuli_property</strong> (<em>list of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>, </em><em>optional</em>) – The keys containing the stimuli seen by the
participant before taking a decision on an action. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>action_options_property</strong> (<em>string</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em> or </em><em>list of ints</em><em>, </em><em>optional</em>) – The name of the key in partData where the list of valid actions
can be found. If <code class="docutils literal notranslate"><span class="pre">None</span></code> then the action list is considered to
stay constant. If a list then the list will be taken as the list
of actions that can be taken at each instance. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>float_error_response_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – If a floating point error occurs when running a fit the fitter function
will return a value for each element of fpRespVal. Default is <code class="docutils literal notranslate"><span class="pre">1/1e100</span></code></p></li>
<li><p><strong>fit_subset</strong> (<code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;rewarded&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;unrewarded&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> or list of int, optional) – Describes which, if any, subset of trials will be used to evaluate the performance of the model.
This can either be described as a list of trial numbers or, by passing
- <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> for fitting all trials
- <code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;unrewarded&quot;</span></code> for all those trials whose feedback was <code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code>
- <code class="docutils literal notranslate"><span class="pre">&quot;rewarded&quot;</span></code> for those who had feedback that was not <code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code>
Default <code class="docutils literal notranslate"><span class="pre">None</span></code>, which means all trials will be used.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="fitAlgs.fitSims.FitSim.Name">
<code class="sig-name descname">Name</code><a class="headerlink" href="#fitAlgs.fitSims.FitSim.Name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the fitting type</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="../fitAlgs.fitAlg.html#fitAlgs.fitAlg.FitAlg" title="fitAlgs.fitAlg.FitAlg"><code class="xref py py-class docutils literal notranslate"><span class="pre">fitAlgs.fitAlg.FitAlg</span></code></a></dt><dd><p>The general fitting class</p>
</dd>
</dl>
</div>
<p class="rubric">Methods Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../fitAlgs.fitSims.html#fitAlgs.fitSims.FitSim.find_name" title="fitAlgs.fitSims.FitSim.find_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_name</span></code></a>()</p></td>
<td><p>Returns the name of the class</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../fitAlgs.fitSims.html#fitAlgs.fitSims.FitSim.fitness" title="fitAlgs.fitSims.FitSim.fitness"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fitness</span></code></a>(*model_parameters)</p></td>
<td><p>Used by a fitter to generate the list of values characterising how well the model parameters describe the participants actions.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../fitAlgs.fitSims.html#fitAlgs.fitSims.FitSim.fitted_model" title="fitAlgs.fitSims.FitSim.fitted_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fitted_model</span></code></a>(*model_parameters)</p></td>
<td><p>Simulating a model run with specific parameter values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../fitAlgs.fitSims.html#fitAlgs.fitSims.FitSim.get_model_parameters" title="fitAlgs.fitSims.FitSim.get_model_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_parameters</span></code></a>(*model_parameters)</p></td>
<td><p>Compiles the model parameter arguments based on the model parameters</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../fitAlgs.fitSims.html#fitAlgs.fitSims.FitSim.get_model_properties" title="fitAlgs.fitSims.FitSim.get_model_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_properties</span></code></a>(*model_parameters)</p></td>
<td><p>Compiles the kwarg model arguments based on the model_parameters and previously specified other parameters</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../fitAlgs.fitSims.html#fitAlgs.fitSims.FitSim.info" title="fitAlgs.fitSims.FitSim.info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">info</span></code></a>()</p></td>
<td><p>The dictionary describing the fitters algorithm chosen</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../fitAlgs.fitSims.html#fitAlgs.fitSims.FitSim.participant_sequence_generation" title="fitAlgs.fitSims.FitSim.participant_sequence_generation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">participant_sequence_generation</span></code></a>(…)</p></td>
<td><p>Finds the stimuli in the participant data and returns formatted observations</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../fitAlgs.fitSims.html#fitAlgs.fitSims.FitSim.prepare_sim" title="fitAlgs.fitSims.FitSim.prepare_sim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prepare_sim</span></code></a>(model, model_parameters, …)</p></td>
<td><p>Set up the simulation of a model following the behaviour of a participant</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="fitAlgs.fitSims.FitSim.find_name">
<code class="sig-name descname">find_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fitAlgs/fitSims.html#FitSim.find_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.fitSims.FitSim.find_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the class</p>
</dd></dl>

<dl class="method">
<dt id="fitAlgs.fitSims.FitSim.fitness">
<code class="sig-name descname">fitness</code><span class="sig-paren">(</span><em class="sig-param">*model_parameters</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fitAlgs/fitSims.html#FitSim.fitness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.fitSims.FitSim.fitness" title="Permalink to this definition">¶</a></dt>
<dd><p>Used by a fitter to generate the list of values characterising how well the model parameters describe the
participants actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_parameters</strong> (<em>list of floats</em>) – A list of the parameters used by the model in the order previously defined</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_performance</strong> – The choices made by the model that will be used to characterise the quality of the fit.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of floats</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">fitAlgs.fitSims.FitSim.participant()</span></code></dt><dd><p>Fits participant data</p>
</dd>
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">fitAlgs.fitAlg.fitAlg()</span></code></dt><dd><p>The general fitting class</p>
</dd>
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">fitAlgs.fitAlg.fitAlg.fitness()</span></code></dt><dd><p>The function that this one is called by</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="fitAlgs.fitSims.FitSim.fitted_model">
<code class="sig-name descname">fitted_model</code><span class="sig-paren">(</span><em class="sig-param">*model_parameters</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fitAlgs/fitSims.html#FitSim.fitted_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.fitSims.FitSim.fitted_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulating a model run with specific parameter values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*model_parameters</strong> (<em>floats</em>) – The model parameters provided in the order defined in the model setup</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_instance</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>model.modelTemplate.Model class instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fitAlgs.fitSims.FitSim.get_model_parameters">
<code class="sig-name descname">get_model_parameters</code><span class="sig-paren">(</span><em class="sig-param">*model_parameters</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fitAlgs/fitSims.html#FitSim.get_model_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.fitSims.FitSim.get_model_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles the model parameter arguments based on the model parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_parameters</strong> (<em>list of floats</em>) – The parameter values in the order extracted from the modelSetup parameter dictionary</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>parameters</strong> – The kwarg model parameter arguments</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fitAlgs.fitSims.FitSim.get_model_properties">
<code class="sig-name descname">get_model_properties</code><span class="sig-paren">(</span><em class="sig-param">*model_parameters</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fitAlgs/fitSims.html#FitSim.get_model_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.fitSims.FitSim.get_model_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles the kwarg model arguments based on the model_parameters and
previously specified other parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_parameters</strong> (<em>list of floats</em>) – The parameter values in the order extracted from the modelSetup parameter dictionary</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_properties</strong> – The kwarg model arguments</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fitAlgs.fitSims.FitSim.info">
<code class="sig-name descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fitAlgs/fitSims.html#FitSim.info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.fitSims.FitSim.info" title="Permalink to this definition">¶</a></dt>
<dd><p>The dictionary describing the fitters algorithm chosen</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>fitInfo</strong> – The dictionary of fitters class information</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fitAlgs.fitSims.FitSim.participant_sequence_generation">
<em class="property">static </em><code class="sig-name descname">participant_sequence_generation</code><span class="sig-paren">(</span><em class="sig-param">participant_data</em>, <em class="sig-param">choice_property</em>, <em class="sig-param">reward_property</em>, <em class="sig-param">stimuli_property</em>, <em class="sig-param">action_options_property</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fitAlgs/fitSims.html#FitSim.participant_sequence_generation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.fitSims.FitSim.participant_sequence_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the stimuli in the participant data and returns formatted observations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The participant data</p></li>
<li><p><strong>choice_property</strong> (<em>string</em>) – The participant data key of their action choices.</p></li>
<li><p><strong>reward_property</strong> (<em>string</em>) – The participant data key of the participant reward data</p></li>
<li><p><strong>stimuli_property</strong> (<em>string</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em> or </em><em>list of strings</em>) – A list of the keys in partData representing participant stimuli</p></li>
<li><p><strong>action_options_property</strong> (<em>string</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em> or </em><em>list of strings</em><em>, </em><em>ints</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – The name of the key in partData where the list of valid actions
can be found. If <code class="docutils literal notranslate"><span class="pre">None</span></code> then the action list is considered to
stay constant. If a list then the list will be taken as the list
of actions that can be taken at every trialstep. If the list is
shorter than the number of trialsteps, then it will be considered
to be a list of valid actions for each trialstep.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>participant_sequence</strong> – Each list element contains the observation, action and feedback for each trial taken
by the participant</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of three element tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="fitAlgs.fitSims.FitSim.prepare_sim">
<code class="sig-name descname">prepare_sim</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">model_parameters</em>, <em class="sig-param">model_properties</em>, <em class="sig-param">participant_data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fitAlgs/fitSims.html#FitSim.prepare_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fitAlgs.fitSims.FitSim.prepare_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the simulation of a model following the behaviour of a participant</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>model.modelTemplate.Model inherited class</em>) – The model you wish to try and fit values to</p></li>
<li><p><strong>model_parameters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The model initial parameters</p></li>
<li><p><strong>model_properties</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The model static properties</p></li>
<li><p><strong>participant_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The participant data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>fitness</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/fitAlgs.fitSims.fitSim.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyHPDM 0.9.9 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2020, Dominic Hunt.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>