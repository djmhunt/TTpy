
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>dataFitting module &#8212; pyHPDM 0.9.9 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="data module" href="data.html" />
    <link rel="prev" title="simulation module" href="simulation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="data.html" title="data module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="simulation.html" title="simulation module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyHPDM 0.9.9 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="datafitting-module">
<h1>dataFitting module<a class="headerlink" href="#datafitting-module" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-dataFitting"></span><dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Dominic Hunt</p>
</dd>
</dl>
<dl class="exception">
<dt id="dataFitting.LengthError">
<em class="property">exception </em><code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">LengthError</code><a class="reference internal" href="_modules/dataFitting.html#LengthError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.LengthError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="dataFitting.OrderError">
<em class="property">exception </em><code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">OrderError</code><a class="reference internal" href="_modules/dataFitting.html#OrderError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.OrderError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="dataFitting.fit_record">
<code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">fit_record</code><span class="sig-paren">(</span><em class="sig-param">participant_fits</em>, <em class="sig-param">file_name_generator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataFitting.html#fit_record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.fit_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the participant fits summary as a csv file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_fits</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – A summary of the recovered parameters</p></li>
<li><p><strong>file_name_generator</strong> (<em>function</em>) – Creates a new file with the name &lt;handle&gt; and the extension &lt;extension&gt;. It takes two string parameters: (<code class="docutils literal notranslate"><span class="pre">handle</span></code>, <code class="docutils literal notranslate"><span class="pre">extension</span></code>) and
returns one <code class="docutils literal notranslate"><span class="pre">fileName</span></code> string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dataFitting.log_fitting_parameters">
<code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">log_fitting_parameters</code><span class="sig-paren">(</span><em class="sig-param">fit_info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataFitting.html#log_fitting_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.log_fitting_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Records and outputs to the log the parameters associated with the fitting algorithms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fit_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The details of the fitting</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dataFitting.log_model_fitted_parameters">
<code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">log_model_fitted_parameters</code><span class="sig-paren">(</span><em class="sig-param">model_fit_variables</em>, <em class="sig-param">model_parameters</em>, <em class="sig-param">fit_quality</em>, <em class="sig-param">participant_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataFitting.html#log_model_fitted_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.log_model_fitted_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs the model and task parameters that used as initial fitting
conditions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_fit_variables</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The model parameters that have been fitted over and varied.</p></li>
<li><p><strong>model_parameters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The model parameters for the fitted model</p></li>
<li><p><strong>fit_quality</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The value of goodness of fit</p></li>
<li><p><strong>participant_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>string</em>) – The identifier for each participant</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dataFitting.log_model_fitting_parameters">
<code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">log_model_fitting_parameters</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">model_fit_variables</em>, <em class="sig-param">model_other_args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataFitting.html#log_model_fitting_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.log_model_fitting_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs the model and task parameters that used as initial fitting conditions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>string</em>) – The name of the model</p></li>
<li><p><strong>model_fit_variables</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The model parameters that will be fitted over and varied.</p></li>
<li><p><strong>model_other_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The other parameters used in the model whose attributes have been
modified by the user</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dataFitting.record_fitting">
<code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">record_fitting</code><span class="sig-paren">(</span><em class="sig-param">fitting_data</em>, <em class="sig-param">label</em>, <em class="sig-param">participant</em>, <em class="sig-param">participant_model_variables</em>, <em class="sig-param">participant_fits</em>, <em class="sig-param">file_name_generator</em>, <em class="sig-param">save_fitting_progress=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataFitting.html#record_fitting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.record_fitting" title="Permalink to this definition">¶</a></dt>
<dd><p>Records formatted versions of the fitting data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitting_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Dictionary of details of the different fits, including an ordered dictionary containing the parameter values
tested, in the order they were tested, and a list of the fit qualities of these parameters.</p></li>
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The label used to identify the fit in the file names</p></li>
<li><p><strong>participant</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The participant data</p></li>
<li><p><strong>participant_model_variables</strong> (<em>dict of string</em>) – A dictionary of model settings whose values should vary from participant to participant based on the
values found in the imported participant data files. The key is the label given in the participant data file,
as a string, and the value is the associated label in the model, also as a string.</p></li>
<li><p><strong>participant_fits</strong> (<em>defaultdict of lists</em>) – A dictionary to be filled with the summary of the participant fits</p></li>
<li><p><strong>file_name_generator</strong> (<em>function</em>) – Creates a new file with the name &lt;handle&gt; and the extension &lt;extension&gt;. It takes two string parameters: (<code class="docutils literal notranslate"><span class="pre">handle</span></code>, <code class="docutils literal notranslate"><span class="pre">extension</span></code>) and
returns one <code class="docutils literal notranslate"><span class="pre">fileName</span></code> string</p></li>
<li><p><strong>save_fitting_progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Specifies if the results from each iteration of the fitting process should be returned. Default <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>participant_fits</strong> – A dictionary to be filled with the summary of the previous and current participant fits</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>defaultdict of lists</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="dataFitting.record_participant_fit">
<code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">record_participant_fit</code><span class="sig-paren">(</span><em class="sig-param">participant</em>, <em class="sig-param">part_name</em>, <em class="sig-param">model_data</em>, <em class="sig-param">model_name</em>, <em class="sig-param">fitting_data</em>, <em class="sig-param">partModelVars</em>, <em class="sig-param">participantFits</em>, <em class="sig-param">fileNameGen=None</em>, <em class="sig-param">pickleData=False</em>, <em class="sig-param">saveFittingProgress=False</em>, <em class="sig-param">expData=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataFitting.html#record_participant_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.record_participant_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Record the data relevant to the participant fitting</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The participant data</p></li>
<li><p><strong>part_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> or </em><em>string</em>) – The identifier for each participant</p></li>
<li><p><strong>model_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The data from the model</p></li>
<li><p><strong>model_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The label given to the model</p></li>
<li><p><strong>fitting_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of details of the different fits, including an ordered dictionary containing the parameter values
tested, in the order they were tested, and a list of the fit qualities of these parameters</p></li>
<li><p><strong>partModelVars</strong> (<em>dict of string</em>) – A dictionary of model settings whose values should vary from participant to participant based on the
values found in the imported participant data files. The key is the label given in the participant data file,
as a string, and the value is the associated label in the model, also as a string.</p></li>
<li><p><strong>participantFits</strong> (<em>defaultdict of lists</em>) – A dictionary to be filled with the summary of the participant fits</p></li>
<li><p><strong>fileNameGen</strong> (<em>function</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – Creates a new file with the name &lt;handle&gt; and the extension &lt;extension&gt;. It takes two string parameters: (<code class="docutils literal notranslate"><span class="pre">handle</span></code>, <code class="docutils literal notranslate"><span class="pre">extension</span></code>) and
returns one <code class="docutils literal notranslate"><span class="pre">fileName</span></code> string. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>pickleData</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If true the data for each model, task and participant is recorded.
Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>saveFittingProgress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Specifies if the results from each iteration of the fitting process should be returned. Default <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>expData</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – The data from the task. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>participantFits</strong> – A dictionary to be filled with the summary of the previous and current participant fits</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>defaultdict of lists</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="outputting.html#outputting.pickleLog" title="outputting.pickleLog"><code class="xref py py-func docutils literal notranslate"><span class="pre">outputting.pickleLog()</span></code></a></dt><dd><p>records the picked data</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="function">
<dt id="dataFitting.run">
<code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">data_folder='./'</em>, <em class="sig-param">data_format='csv'</em>, <em class="sig-param">data_file_filter=None</em>, <em class="sig-param">data_file_terminal_ID=True</em>, <em class="sig-param">data_read_options=None</em>, <em class="sig-param">data_split_by=None</em>, <em class="sig-param">data_group_by=None</em>, <em class="sig-param">data_extra_processing=None</em>, <em class="sig-param">model_name='QLearn'</em>, <em class="sig-param">model_changing_properties=None</em>, <em class="sig-param">model_constant_properties=None</em>, <em class="sig-param">participantID='Name'</em>, <em class="sig-param">participant_choices='Actions'</em>, <em class="sig-param">participant_rewards='Rewards'</em>, <em class="sig-param">model_fit_value='ActionProb'</em>, <em class="sig-param">fit_subset=None</em>, <em class="sig-param">task_stimuli=None</em>, <em class="sig-param">participant_action_options=None</em>, <em class="sig-param">fit_method='Evolutionary'</em>, <em class="sig-param">fit_method_args=None</em>, <em class="sig-param">fit_measure='-loge'</em>, <em class="sig-param">fit_measure_args=None</em>, <em class="sig-param">fit_extra_measures=None</em>, <em class="sig-param">participant_varying_model_parameters=None</em>, <em class="sig-param">label=None</em>, <em class="sig-param">save_fitting_progress=False</em>, <em class="sig-param">config_file=None</em>, <em class="sig-param">output_path=None</em>, <em class="sig-param">pickle=False</em>, <em class="sig-param">boundary_excess_cost_function=None</em>, <em class="sig-param">min_log_level='INFO'</em>, <em class="sig-param">numpy_error_level='log'</em>, <em class="sig-param">fit_float_error_response_value=1e-100</em>, <em class="sig-param">calculate_covariance=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataFitting.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.run" title="Permalink to this definition">¶</a></dt>
<dd><p>A framework for fitting models to data for tasks, along with
recording the data associated with the fits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_folder</strong> (<em>string</em><em> or </em><em>list of strings</em><em>, </em><em>optional</em>) – The folder where the data can be found. Default is the current folder.</p></li>
<li><p><strong>data_format</strong> (<em>string</em><em>, </em><em>optional</em>) – The file type of the data, from <code class="docutils literal notranslate"><span class="pre">mat</span></code>, <code class="docutils literal notranslate"><span class="pre">csv</span></code>, <code class="docutils literal notranslate"><span class="pre">xlsx</span></code> and <code class="docutils literal notranslate"><span class="pre">pkl</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">csv</span></code></p></li>
<li><p><strong>data_file_filter</strong> (<em>callable</em><em>, </em><em>string</em><em>, </em><em>list of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>, </em><em>optional</em>) – A function to process the file names or a list of possible prefixes as strings or a single string.
Default <code class="docutils literal notranslate"><span class="pre">None</span></code>, no file names removed</p></li>
<li><p><strong>data_file_terminal_ID</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Is there an ID number at the end of the filename? If not then a more general search will be performed.
Default <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><strong>data_read_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – The keyword arguments for the data importing method chosen</p></li>
<li><p><strong>data_split_by</strong> (<em>string</em><em> or </em><em>list of strings</em><em>, </em><em>optional</em>) – If multiple participant datasets are in one file sheet, this specifies the column or columns that can
distinguish and identify the rows for each participant. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>data_group_by</strong> (<em>list of strings</em><em>, </em><em>optional</em>) – A list of parts of filenames that are repeated across participants, identifying all the files that should
be grouped together to form one participants data. The rest of the filename is assumed to identify the
participant. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>data_extra_processing</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function that modifies the dictionary of data read for each participant in such that it is appropriate
for fitting. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>model_name</strong> (<em>string</em><em>, </em><em>optional</em>) – The name of the file where a model.modelTemplate.Model class can be found. Default <code class="docutils literal notranslate"><span class="pre">QLearn</span></code></p></li>
<li><p><strong>model_changing_properties</strong> (<em>dictionary with values of tuple of two floats</em><em>, </em><em>optional</em>) – Parameters are the options that you allow to vary across model fits. Each model parameter is specified as a
dict key. The value is a tuple containing the upper and lower search bounds, e.g. <code class="docutils literal notranslate"><span class="pre">alpha</span></code> has the bounds
(0, 1). Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>model_constant_properties</strong> (<em>dictionary of float</em><em>, </em><em>string</em><em> or </em><em>binary valued elements</em><em>, </em><em>optional</em>) – These contain all the the model options that define the version
of the model being studied. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>participantID</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – The key (label) used to identify each participant. Default <code class="docutils literal notranslate"><span class="pre">Name</span></code></p></li>
<li><p><strong>participant_choices</strong> (<em>string</em><em>, </em><em>optional</em>) – The participant data key of their action choices. Default <code class="docutils literal notranslate"><span class="pre">'Actions'</span></code></p></li>
<li><p><strong>participant_rewards</strong> (<em>string</em><em>, </em><em>optional</em>) – The participant data key of the participant reward data. Default <code class="docutils literal notranslate"><span class="pre">'Rewards'</span></code></p></li>
<li><p><strong>model_fit_value</strong> (<em>string</em><em>, </em><em>optional</em>) – The key to be compared in the model data. Default <code class="docutils literal notranslate"><span class="pre">'ActionProb'</span></code></p></li>
<li><p><strong>fit_subset</strong> (<code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;rewarded&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;unrewarded&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> or list of int, optional) – Describes which, if any, subset of trials will be used to evaluate the performance of the model.
This can either be described as a list of trial numbers or, by passing
- <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> for fitting all trials
- <code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;unrewarded&quot;</span></code> for all those trials whose feedback was <code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code>
- <code class="docutils literal notranslate"><span class="pre">&quot;rewarded&quot;</span></code> for those who had feedback that was not <code class="docutils literal notranslate"><span class="pre">float('Nan')</span></code>
Default <code class="docutils literal notranslate"><span class="pre">None</span></code>, which means all trials will be used.</p></li>
<li><p><strong>task_stimuli</strong> (<em>list of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>, </em><em>optional</em>) – The keys containing the observational parameters seen by the
participant before taking a decision on an action. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>participant_action_options</strong> (<em>string</em><em> or </em><em>list of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em> or </em><em>one element list with a list</em><em>, </em><em>optional</em>) – If a string or list of strings these are treated as dict keys where the valid actions for each trial can
be found. If None then all trials will use all available actions. If the list contains one list then it will
be treated as a list of valid actions for each trialstep. Default <code class="docutils literal notranslate"><span class="pre">'None'</span></code></p></li>
<li><p><strong>fit_method</strong> (<em>string</em><em>, </em><em>optional</em>) – The fitting method to be used. The names accepted are those of the modules in the folder fitAlgs containing a
FitAlg class. Default <code class="docutils literal notranslate"><span class="pre">'evolutionary'</span></code></p></li>
<li><p><strong>fit_method_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary of arguments specific to the fitting method. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>fit_measure</strong> (<em>string</em><em>, </em><em>optional</em>) – The name of the function used to calculate the quality of the fit.
The value it returns provides the fitter with its fitting guide. Default <code class="docutils literal notranslate"><span class="pre">-loge</span></code></p></li>
<li><p><strong>fit_measure_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – The parameters used to initialise fitMeasure and extraFitMeasures. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>fit_extra_measures</strong> (<em>list of strings</em><em>, </em><em>optional</em>) – List of fit measures not used to fit the model, but to provide more information. Any arguments needed for these
measures should be placed in fitMeasureArgs. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>participant_varying_model_parameters</strong> (<em>dict of string</em><em>, </em><em>optional</em>) – A dictionary of model settings whose values should vary from participant to participant based on the
values found in the imported participant data files. The key is the label given in the participant data file,
as a string, and the value is the associated label in the model, also as a string. Default <code class="docutils literal notranslate"><span class="pre">{}</span></code></p></li>
<li><p><strong>label</strong> (<em>string</em><em>, </em><em>optional</em>) – The label for the data fitting. Default <code class="docutils literal notranslate"><span class="pre">None</span></code> will mean no data is saved to files.</p></li>
<li><p><strong>save_fitting_progress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Specifies if the results from each iteration of the fitting process should be returned. Default <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>config_file</strong> (<em>string</em><em>, </em><em>optional</em>) – The file name and path of a <code class="docutils literal notranslate"><span class="pre">.yaml</span></code> configuration file. Overrides all other parameters if found.
Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>output_path</strong> (<em>string</em><em>, </em><em>optional</em>) – The path that will be used for the run output. Default <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>pickle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – If true the data for each model, and participant is recorded.
Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>boundary_excess_cost_function</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><em>callable returning a function</em><em>, </em><em>optional</em>) – The function is used to calculate the penalty for exceeding the boundaries.
Default is <code class="docutils literal notranslate"><span class="pre">boundFunc.scalarBound()</span></code></p></li>
<li><p><strong>min_log_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Defines the level of the log from (<code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>, <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>, <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>, <code class="docutils literal notranslate"><span class="pre">CRITICAL</span></code>). Default <code class="docutils literal notranslate"><span class="pre">INFO</span></code></p></li>
<li><p><strong>numpy_error_level</strong> (<em>{'log'</em><em>, </em><em>'raise'}</em>) – Defines the response to numpy errors. Default <code class="docutils literal notranslate"><span class="pre">log</span></code>. See numpy.seterr</p></li>
<li><p><strong>fit_float_error_response_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – If a floating point error occurs when running a fit the fitter function
will return a value for each element of fpRespVal. Default is <a href="#id1"><span class="problematic" id="id2">``</span></a>1/1e100`</p></li>
<li><p><strong>calculate_covariance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Is the covariance calculated. Default <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="modelGenerator.html#module-modelGenerator" title="modelGenerator"><code class="xref py py-func docutils literal notranslate"><span class="pre">modelGenerator()</span></code></a></dt><dd><p>The model factory</p>
</dd>
<dt><a class="reference internal" href="outputting.html#module-outputting" title="outputting"><code class="xref py py-func docutils literal notranslate"><span class="pre">outputting()</span></code></a></dt><dd><p>The outputting functions</p>
</dd>
<dt><a class="reference internal" href="fitAlgs.fitAlg.html#fitAlgs.fitAlg.FitAlg" title="fitAlgs.fitAlg.FitAlg"><code class="xref py py-func docutils literal notranslate"><span class="pre">fitAlgs.fitAlg.FitAlg()</span></code></a></dt><dd><p>General class for a method of fitting data</p>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">fitAlgs.fitSims.fitSim()</span></code></dt><dd><p>General class for a method of simulating the fitting of data</p>
</dd>
<dt><a class="reference internal" href="data.html#data.Data" title="data.Data"><code class="xref py py-func docutils literal notranslate"><span class="pre">data.Data()</span></code></a></dt><dd><p>Data import class</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="function">
<dt id="dataFitting.xlsx_fitting_data">
<code class="sig-prename descclassname">dataFitting.</code><code class="sig-name descname">xlsx_fitting_data</code><span class="sig-paren">(</span><em class="sig-param">fitting_data</em>, <em class="sig-param">label</em>, <em class="sig-param">participant</em>, <em class="sig-param">file_name_generator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dataFitting.html#xlsx_fitting_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dataFitting.xlsx_fitting_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the fitting data to an XLSX file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitting_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a><em>, </em><em>optional</em>) – Dictionary of details of the different fits, including an ordered dictionary containing the parameter values
tested, in the order they were tested, and a list of the fit qualities of these parameters.</p></li>
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The label used to identify the fit in the file names</p></li>
<li><p><strong>participant</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – The participant data</p></li>
<li><p><strong>file_name_generator</strong> (<em>function</em>) – Creates a new file with the name &lt;handle&gt; and the extension &lt;extension&gt;. It takes two string parameters: (<code class="docutils literal notranslate"><span class="pre">handle</span></code>, <code class="docutils literal notranslate"><span class="pre">extension</span></code>) and
returns one <code class="docutils literal notranslate"><span class="pre">fileName</span></code> string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="simulation.html"
                        title="previous chapter">simulation module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="data.html"
                        title="next chapter">data module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/dataFitting.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="data.html" title="data module"
             >next</a> |</li>
        <li class="right" >
          <a href="simulation.html" title="simulation module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyHPDM 0.9.9 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2020, Dominic Hunt.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>